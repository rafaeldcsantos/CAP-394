<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.553">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2024-08-01">

<title>CAP-394</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./Resources/Images/CAP394-Icon.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>
<script type="text/javascript">
window.PlotlyConfig = {MathJaxConfig: 'local'};
if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}
if (typeof require !== 'undefined') {
require.undef("plotly");
requirejs.config({
    paths: {
        'plotly': ['https://cdn.plot.ly/plotly-2.12.1.min']
    }
});
require(['plotly'], function(Plotly) {
    window._Plotly = Plotly;
});
}
</script>



<link rel="stylesheet" href="Resources/CSS/custom.css">
</head>

<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item">Are there temporal patterns on the sales data?</li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
      <a href="./index.html" class="sidebar-logo-link">
      <img src="./Resources/Images/CAP394-Icon-Trim.png" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">About this Course</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Lectures</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./00-Lectures-Intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">About the Course</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01-Lectures-WhatIs.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">What is Data Science?</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02-Lectures-Skills.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Skills for Data Science</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03-Lectures-Data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
 <span class="menu-text">Cookbook</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./20-Cookbook-Intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
 <span class="menu-text">Visualization</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./30-Visualization-Intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
 <span class="menu-text">Projects</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./50-Projects-Intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./51-Projects-Amendments.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Parliamentary Amendments</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./53-Projects-Supermarket.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Supermarket Basket Analysis</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true">
 <span class="menu-text">Ideas Bank</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./80-Ideas-Intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Are there temporal patterns on the sales data?</h1>
</div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">August 1, 2024</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<div id="6a1e5b2c" class="cell custompython" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd </span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt </span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns </span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> plotly.express <span class="im">as</span> px</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> plotly.graph_objects <span class="im">as</span> go</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.linear_model <span class="im">import</span> LinearRegression</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="79394c97" class="cell custompython" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read the data from a file into a dataframe, with proper character encoding</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>supermDF <span class="op">=</span> pd.read_csv(<span class="st">"Resources/Data/SupermarketCSV/transactions.csv"</span>,</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>                        encoding<span class="op">=</span><span class="st">"iso-8859-1"</span>)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>supermDF[<span class="st">'DateTime'</span>] <span class="op">=</span> pd.to_datetime(supermDF[<span class="st">'Date'</span>].astype(<span class="bu">str</span>),<span class="bu">format</span><span class="op">=</span><span class="st">'%Y%m</span><span class="sc">%d</span><span class="st">%H%M%S'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="59ed576a" class="cell custompython" data-execution_count="3">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(supermDF.head(<span class="dv">10</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                       FileID  StoreID  POSID    TransactionID  \
0  050501/075954_01090841.xml        3      1  075954_01090841   
1  050501/075954_01090841.xml        3      1  075954_01090841   
2  050501/075954_01090841.xml        3      1  075954_01090841   
3  050501/075956_01090842.xml        3      1  075956_01090842   
4  050501/075956_01090842.xml        3      1  075956_01090842   
5  050501/080011_01090843.xml        3      1  080011_01090843   
6  050501/080011_01090843.xml        3      1  080011_01090843   
7  050501/080011_01090843.xml        3      1  080011_01090843   
8  050501/080011_02003462.xml        3      2  080011_02003462   
9  050501/080011_02003463.xml        3      2  080011_02003463   

             Date  itemOrder             Description  UnitPrice  Quantity  \
0  20050501080242          1  VELA FESTLAR FELIZ ANI       0.78       1.0   
1  20050501080242          2  VELA FESTLAR FELIZ ANI       0.78       1.0   
2  20050501080242          3  ESCOVA D. TEK DURA           1.35       1.0   
3  20050501080351          1  SUSTAGEN 380G KIDS CHO       7.89       1.0   
4  20050501080351          2  PAO FRANCES                  0.17       6.0   
5  20050501080420          1  PAO FRANCES                  0.17       6.0   
6  20050501080420          2  LEITE PAST. SERRAMAR S       1.15       1.0   
7  20050501080420          3  FARINHA TRIGO LILI KG        0.89       1.0   
8  20050501074105          1  OLEO P/ MOTOR HAVOLINE       6.22       1.0   
9  20050501074136          1  MARGARINA SOYA 500G C/       1.19       1.0   

   Amount Unit   PaymentMethod  TotalPaid  TotalDue  Change Status  \
0    0.78   Un  Dinheiro             4.00      2.91    1.09      T   
1    0.78   Un  Dinheiro             4.00      2.91    1.09      T   
2    1.35   Un  Dinheiro             4.00      2.91    1.09      T   
3    7.89   Un  Dinheiro            10.00      8.91    1.09      T   
4    1.02   Un  Dinheiro            10.00      8.91    1.09      T   
5    1.02   Un  Dinheiro             3.06      3.06    0.00      T   
6    1.15   Un  Dinheiro             3.06      3.06    0.00      T   
7    0.89   Un  Dinheiro             3.06      3.06    0.00      T   
8    6.22   Un  Dinheiro            10.00      6.22    3.78      T   
9    1.19   Un  Dinheiro             5.00      3.08    1.92      T   

             DateTime  
0 2005-05-01 08:02:42  
1 2005-05-01 08:02:42  
2 2005-05-01 08:02:42  
3 2005-05-01 08:03:51  
4 2005-05-01 08:03:51  
5 2005-05-01 08:04:20  
6 2005-05-01 08:04:20  
7 2005-05-01 08:04:20  
8 2005-05-01 07:41:05  
9 2005-05-01 07:41:36  </code></pre>
</div>
</div>
<p>We can use EDA to investigate several different aspects of the data. Let’s consider the sale of a particular item, the most sold, <code>"PAO FRANCES           "</code>. Is there a temporal pattern on its sale? We can answer that with a two-dimensional histogram that shows the amount of units sold by day and time.</p>
<p>First let’s create a subset of the data containing only the item in question. From this subset let’s also keep only the relevant fields. Let’s also create columns for day of the month and time of the day:</p>
<div id="48139263" class="cell custompython" data-execution_count="4">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Get only the first itens.</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>filtered_df <span class="op">=</span> supermDF[supermDF[<span class="st">'itemOrder'</span>] <span class="op">==</span> <span class="dv">1</span>]</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>filtered_df[<span class="st">'DayOfMonth'</span>] <span class="op">=</span> filtered_df[<span class="st">'DateTime'</span>].dt.day</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>filtered_df[<span class="st">'HourOfDay'</span>] <span class="op">=</span> filtered_df[<span class="st">'DateTime'</span>].dt.hour</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>/var/folders/m8/dc_5nrhd5wqc0pxv77f9t9140000gn/T/ipykernel_39822/1004461388.py:3: SettingWithCopyWarning:


A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy

/var/folders/m8/dc_5nrhd5wqc0pxv77f9t9140000gn/T/ipykernel_39822/1004461388.py:4: SettingWithCopyWarning:


A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
</code></pre>
</div>
</div>
<p>::: {#9e006bf7 .cell .custompython# Extract hour and day execution_count=5}</p>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>histoTransactions <span class="op">=</span> filtered_df.groupby([<span class="st">"HourOfDay"</span>,<span class="st">"DayOfMonth"</span>]).count().reset_index() </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>:::</p>
<div id="d45ae575" class="cell custompython" data-execution_count="6">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Reorders the two-dimensional histogram as a matrix-like dataframe.</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>hmap <span class="op">=</span> histoTransactions.pivot(index<span class="op">=</span><span class="st">"HourOfDay"</span>, columns<span class="op">=</span><span class="st">"DayOfMonth"</span>, values<span class="op">=</span><span class="st">"TotalDue"</span>).fillna(<span class="dv">0</span>)</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Use those indexes for the row and column indexes.</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>days <span class="op">=</span> <span class="bu">list</span>(<span class="bu">range</span>(<span class="dv">1</span>, <span class="dv">32</span>))</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>hours <span class="op">=</span> <span class="bu">list</span>(<span class="bu">range</span>(<span class="dv">24</span>))</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Apply those indexes to the dataframe, filling nonexistent (na) values with zeros.</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>hmap <span class="op">=</span> hmap.reindex(index<span class="op">=</span>hours).reindex(columns<span class="op">=</span>days).fillna(<span class="dv">0</span>)</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>hmap.to_csv(<span class="st">"transactions-number-heatmap.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Now that we have our well-formed two-dimensional dataframe we can plot it as a heat map.</p>
<div id="dca215fa" class="cell custompython" data-execution_count="7">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the heatmap.</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> go.Figure(data<span class="op">=</span>go.Heatmap(</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>    z<span class="op">=</span>hmap.values,</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span>hmap.columns,</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span>hmap.index,</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>    colorscale<span class="op">=</span><span class="st">'Jet'</span>,</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>    text<span class="op">=</span>hmap.values,</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>    texttemplate<span class="op">=</span><span class="st">"%</span><span class="sc">{text:.0f}</span><span class="st">"</span>,  <span class="co"># Format text to display as integers</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>    textfont<span class="op">=</span>{<span class="st">"size"</span>:<span class="dv">10</span>},</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>    hoverinfo<span class="op">=</span><span class="st">'z'</span>,  <span class="co"># Display value on hover</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>    showscale<span class="op">=</span><span class="va">True</span></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>))</span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Update layout to add thin lines around each cell.</span></span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a><span class="co"># This was suggested by Code Copilot!</span></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>fig.update_traces(</span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>    zmin<span class="op">=</span><span class="dv">0</span>, zmax<span class="op">=</span>hmap.values.<span class="bu">max</span>(),  </span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>    xgap<span class="op">=</span><span class="dv">1</span>,  </span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a>    ygap<span class="op">=</span><span class="dv">1</span>,  </span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a>    colorbar<span class="op">=</span><span class="bu">dict</span>(tickfont<span class="op">=</span><span class="bu">dict</span>(size<span class="op">=</span><span class="dv">10</span>))  </span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Customize the layout.</span></span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a>fig.update_layout(</span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a>    title<span class="op">=</span><span class="st">'Heatmap of Number of Transactions'</span>,</span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a>    xaxis_title<span class="op">=</span><span class="st">'Day of Month'</span>,</span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true" tabindex="-1"></a>    yaxis_title<span class="op">=</span><span class="st">'Hour of Day'</span>,</span>
<span id="cb9-26"><a href="#cb9-26" aria-hidden="true" tabindex="-1"></a>    xaxis<span class="op">=</span><span class="bu">dict</span>(</span>
<span id="cb9-27"><a href="#cb9-27" aria-hidden="true" tabindex="-1"></a>        tickmode<span class="op">=</span><span class="st">'linear'</span>,</span>
<span id="cb9-28"><a href="#cb9-28" aria-hidden="true" tabindex="-1"></a>        dtick<span class="op">=</span><span class="dv">1</span>,  </span>
<span id="cb9-29"><a href="#cb9-29" aria-hidden="true" tabindex="-1"></a>        tickfont<span class="op">=</span><span class="bu">dict</span>(size<span class="op">=</span><span class="dv">10</span>),</span>
<span id="cb9-30"><a href="#cb9-30" aria-hidden="true" tabindex="-1"></a>        showgrid<span class="op">=</span><span class="va">False</span>,</span>
<span id="cb9-31"><a href="#cb9-31" aria-hidden="true" tabindex="-1"></a>        zeroline<span class="op">=</span><span class="va">False</span> <span class="co"># Remove grid lines</span></span>
<span id="cb9-32"><a href="#cb9-32" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb9-33"><a href="#cb9-33" aria-hidden="true" tabindex="-1"></a>    yaxis<span class="op">=</span><span class="bu">dict</span>(</span>
<span id="cb9-34"><a href="#cb9-34" aria-hidden="true" tabindex="-1"></a>        tickmode<span class="op">=</span><span class="st">'linear'</span>,</span>
<span id="cb9-35"><a href="#cb9-35" aria-hidden="true" tabindex="-1"></a>        dtick<span class="op">=</span><span class="dv">1</span>, </span>
<span id="cb9-36"><a href="#cb9-36" aria-hidden="true" tabindex="-1"></a>        tickfont<span class="op">=</span><span class="bu">dict</span>(size<span class="op">=</span><span class="dv">10</span>),</span>
<span id="cb9-37"><a href="#cb9-37" aria-hidden="true" tabindex="-1"></a>        showgrid<span class="op">=</span><span class="va">False</span>,</span>
<span id="cb9-38"><a href="#cb9-38" aria-hidden="true" tabindex="-1"></a>        zeroline<span class="op">=</span><span class="va">False</span> <span class="co"># Remove grid lines</span></span>
<span id="cb9-39"><a href="#cb9-39" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb9-40"><a href="#cb9-40" aria-hidden="true" tabindex="-1"></a>    plot_bgcolor<span class="op">=</span><span class="st">'#808080'</span>, </span>
<span id="cb9-41"><a href="#cb9-41" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb9-42"><a href="#cb9-42" aria-hidden="true" tabindex="-1"></a><span class="co"># Invert the Y-axis.</span></span>
<span id="cb9-43"><a href="#cb9-43" aria-hidden="true" tabindex="-1"></a>fig.update_yaxes(autorange<span class="op">=</span><span class="st">'reversed'</span>)</span>
<span id="cb9-44"><a href="#cb9-44" aria-hidden="true" tabindex="-1"></a><span class="co"># Show the plot.</span></span>
<span id="cb9-45"><a href="#cb9-45" aria-hidden="true" tabindex="-1"></a>fig.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>                            <div id="e3e53f47-2d9e-467e-aefe-5fb03ae6af78" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("e3e53f47-2d9e-467e-aefe-5fb03ae6af78")) {                    Plotly.newPlot(                        "e3e53f47-2d9e-467e-aefe-5fb03ae6af78",                        [{"colorscale":[[0.0,"rgb(0,0,131)"],[0.2,"rgb(0,60,170)"],[0.4,"rgb(5,255,255)"],[0.6,"rgb(255,255,0)"],[0.8,"rgb(250,0,0)"],[1.0,"rgb(128,0,0)"]],"hoverinfo":"z","showscale":true,"text":[[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0],[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0],[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0],[0.0,0.0,0.0,0.0,0.0,0.0,0.0,10.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,6.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,7.0,0.0,0.0],[0.0,27.0,0.0,31.0,0.0,0.0,0.0,52.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,14.0,47.0,0.0,13.0,14.0,0.0,0.0,25.0,9.0,27.0,0.0,0.0],[0.0,49.0,0.0,8.0,0.0,0.0,0.0,6.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,43.0,58.0,58.0,36.0,41.0,0.0,34.0,0.0,4.0,71.0,0.0,0.0],[0.0,59.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,16.0,0.0,0.0,0.0,0.0,5.0,0.0,0.0,0.0,0.0,44.0,46.0,47.0,46.0,43.0,0.0,65.0,8.0,7.0,45.0,0.0,0.0],[17.0,88.0,28.0,73.0,65.0,21.0,44.0,49.0,54.0,65.0,49.0,50.0,37.0,75.0,71.0,84.0,92.0,69.0,95.0,121.0,99.0,94.0,93.0,157.0,57.0,105.0,57.0,39.0,113.0,154.0,77.0],[209.0,177.0,163.0,157.0,115.0,158.0,173.0,190.0,140.0,160.0,177.0,148.0,143.0,268.0,203.0,274.0,252.0,231.0,231.0,265.0,236.0,197.0,261.0,248.0,175.0,226.0,230.0,204.0,221.0,356.0,249.0],[215.0,157.0,194.0,187.0,208.0,173.0,221.0,301.0,208.0,188.0,239.0,183.0,203.0,294.0,291.0,272.0,260.0,297.0,275.0,267.0,243.0,273.0,255.0,243.0,224.0,248.0,333.0,291.0,209.0,369.0,286.0],[284.0,198.0,246.0,190.0,193.0,223.0,272.0,298.0,191.0,185.0,251.0,169.0,231.0,326.0,252.0,268.0,295.0,315.0,260.0,235.0,255.0,256.0,230.0,202.0,261.0,253.0,324.0,329.0,255.0,355.0,327.0],[264.0,185.0,205.0,210.0,235.0,257.0,235.0,311.0,178.0,128.0,168.0,257.0,281.0,349.0,254.0,313.0,310.0,273.0,243.0,204.0,325.0,262.0,269.0,207.0,212.0,316.0,363.0,298.0,257.0,360.0,263.0],[219.0,190.0,190.0,180.0,185.0,162.0,213.0,265.0,157.0,114.0,106.0,122.0,228.0,243.0,202.0,206.0,253.0,173.0,210.0,197.0,292.0,186.0,268.0,208.0,226.0,278.0,270.0,282.0,151.0,305.0,196.0],[99.0,156.0,188.0,153.0,164.0,131.0,145.0,44.0,138.0,94.0,75.0,120.0,121.0,184.0,24.0,137.0,139.0,122.0,174.0,177.0,187.0,48.0,229.0,146.0,212.0,52.0,165.0,245.0,18.0,296.0,157.0],[0.0,95.0,153.0,129.0,111.0,150.0,176.0,0.0,143.0,148.0,74.0,132.0,129.0,188.0,0.0,193.0,150.0,190.0,134.0,155.0,227.0,0.0,228.0,169.0,217.0,12.0,230.0,238.0,0.0,246.0,184.0],[0.0,124.0,142.0,134.0,122.0,110.0,160.0,0.0,134.0,169.0,110.0,92.0,207.0,190.0,0.0,168.0,180.0,186.0,205.0,167.0,262.0,0.0,251.0,170.0,232.0,0.0,198.0,267.0,0.0,343.0,213.0],[0.0,180.0,171.0,217.0,213.0,209.0,169.0,0.0,201.0,203.0,178.0,155.0,282.0,238.0,0.0,264.0,226.0,271.0,239.0,263.0,313.0,0.0,304.0,317.0,288.0,0.0,361.0,293.0,0.0,399.0,311.0],[0.0,186.0,207.0,217.0,209.0,225.0,299.0,0.0,274.0,261.0,239.0,285.0,370.0,373.0,0.0,394.0,374.0,361.0,296.0,343.0,390.0,0.0,360.0,341.0,397.0,0.0,352.0,335.0,0.0,570.0,332.0],[0.0,289.0,223.0,213.0,220.0,276.0,287.0,0.0,283.0,255.0,245.0,234.0,354.0,364.0,0.0,417.0,333.0,336.0,299.0,272.0,364.0,0.0,336.0,314.0,322.0,0.0,356.0,346.0,0.0,475.0,324.0],[0.0,244.0,154.0,160.0,204.0,189.0,227.0,0.0,193.0,181.0,179.0,186.0,280.0,308.0,0.0,283.0,238.0,224.0,183.0,252.0,167.0,0.0,251.0,217.0,215.0,0.0,290.0,231.0,0.0,344.0,272.0],[0.0,70.0,19.0,39.0,25.0,54.0,36.0,0.0,30.0,56.0,43.0,32.0,75.0,28.0,0.0,42.0,75.0,30.0,62.0,56.0,34.0,0.0,49.0,95.0,54.0,0.0,61.0,69.0,0.0,95.0,44.0],[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0],[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0],[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0]],"textfont":{"size":10},"texttemplate":"%{text:.0f}","x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],"y":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"z":[[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0],[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0],[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0],[0.0,0.0,0.0,0.0,0.0,0.0,0.0,10.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,6.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,7.0,0.0,0.0],[0.0,27.0,0.0,31.0,0.0,0.0,0.0,52.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,14.0,47.0,0.0,13.0,14.0,0.0,0.0,25.0,9.0,27.0,0.0,0.0],[0.0,49.0,0.0,8.0,0.0,0.0,0.0,6.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,43.0,58.0,58.0,36.0,41.0,0.0,34.0,0.0,4.0,71.0,0.0,0.0],[0.0,59.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,16.0,0.0,0.0,0.0,0.0,5.0,0.0,0.0,0.0,0.0,44.0,46.0,47.0,46.0,43.0,0.0,65.0,8.0,7.0,45.0,0.0,0.0],[17.0,88.0,28.0,73.0,65.0,21.0,44.0,49.0,54.0,65.0,49.0,50.0,37.0,75.0,71.0,84.0,92.0,69.0,95.0,121.0,99.0,94.0,93.0,157.0,57.0,105.0,57.0,39.0,113.0,154.0,77.0],[209.0,177.0,163.0,157.0,115.0,158.0,173.0,190.0,140.0,160.0,177.0,148.0,143.0,268.0,203.0,274.0,252.0,231.0,231.0,265.0,236.0,197.0,261.0,248.0,175.0,226.0,230.0,204.0,221.0,356.0,249.0],[215.0,157.0,194.0,187.0,208.0,173.0,221.0,301.0,208.0,188.0,239.0,183.0,203.0,294.0,291.0,272.0,260.0,297.0,275.0,267.0,243.0,273.0,255.0,243.0,224.0,248.0,333.0,291.0,209.0,369.0,286.0],[284.0,198.0,246.0,190.0,193.0,223.0,272.0,298.0,191.0,185.0,251.0,169.0,231.0,326.0,252.0,268.0,295.0,315.0,260.0,235.0,255.0,256.0,230.0,202.0,261.0,253.0,324.0,329.0,255.0,355.0,327.0],[264.0,185.0,205.0,210.0,235.0,257.0,235.0,311.0,178.0,128.0,168.0,257.0,281.0,349.0,254.0,313.0,310.0,273.0,243.0,204.0,325.0,262.0,269.0,207.0,212.0,316.0,363.0,298.0,257.0,360.0,263.0],[219.0,190.0,190.0,180.0,185.0,162.0,213.0,265.0,157.0,114.0,106.0,122.0,228.0,243.0,202.0,206.0,253.0,173.0,210.0,197.0,292.0,186.0,268.0,208.0,226.0,278.0,270.0,282.0,151.0,305.0,196.0],[99.0,156.0,188.0,153.0,164.0,131.0,145.0,44.0,138.0,94.0,75.0,120.0,121.0,184.0,24.0,137.0,139.0,122.0,174.0,177.0,187.0,48.0,229.0,146.0,212.0,52.0,165.0,245.0,18.0,296.0,157.0],[0.0,95.0,153.0,129.0,111.0,150.0,176.0,0.0,143.0,148.0,74.0,132.0,129.0,188.0,0.0,193.0,150.0,190.0,134.0,155.0,227.0,0.0,228.0,169.0,217.0,12.0,230.0,238.0,0.0,246.0,184.0],[0.0,124.0,142.0,134.0,122.0,110.0,160.0,0.0,134.0,169.0,110.0,92.0,207.0,190.0,0.0,168.0,180.0,186.0,205.0,167.0,262.0,0.0,251.0,170.0,232.0,0.0,198.0,267.0,0.0,343.0,213.0],[0.0,180.0,171.0,217.0,213.0,209.0,169.0,0.0,201.0,203.0,178.0,155.0,282.0,238.0,0.0,264.0,226.0,271.0,239.0,263.0,313.0,0.0,304.0,317.0,288.0,0.0,361.0,293.0,0.0,399.0,311.0],[0.0,186.0,207.0,217.0,209.0,225.0,299.0,0.0,274.0,261.0,239.0,285.0,370.0,373.0,0.0,394.0,374.0,361.0,296.0,343.0,390.0,0.0,360.0,341.0,397.0,0.0,352.0,335.0,0.0,570.0,332.0],[0.0,289.0,223.0,213.0,220.0,276.0,287.0,0.0,283.0,255.0,245.0,234.0,354.0,364.0,0.0,417.0,333.0,336.0,299.0,272.0,364.0,0.0,336.0,314.0,322.0,0.0,356.0,346.0,0.0,475.0,324.0],[0.0,244.0,154.0,160.0,204.0,189.0,227.0,0.0,193.0,181.0,179.0,186.0,280.0,308.0,0.0,283.0,238.0,224.0,183.0,252.0,167.0,0.0,251.0,217.0,215.0,0.0,290.0,231.0,0.0,344.0,272.0],[0.0,70.0,19.0,39.0,25.0,54.0,36.0,0.0,30.0,56.0,43.0,32.0,75.0,28.0,0.0,42.0,75.0,30.0,62.0,56.0,34.0,0.0,49.0,95.0,54.0,0.0,61.0,69.0,0.0,95.0,44.0],[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0],[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0],[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0]],"type":"heatmap","colorbar":{"tickfont":{"size":10}},"xgap":1,"ygap":1,"zmax":570.0,"zmin":0}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"xaxis":{"tickfont":{"size":10},"title":{"text":"Day of Month"},"tickmode":"linear","dtick":1,"showgrid":false,"zeroline":false},"yaxis":{"tickfont":{"size":10},"title":{"text":"Hour of Day"},"tickmode":"linear","dtick":1,"showgrid":false,"zeroline":false,"autorange":"reversed"},"title":{"text":"Heatmap of Number of Transactions"},"plot_bgcolor":"#808080"},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('e3e53f47-2d9e-467e-aefe-5fb03ae6af78');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
<div id="e4cbd9e8" class="cell custompython" data-execution_count="8">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>histoValues <span class="op">=</span> filtered_df.groupby([<span class="st">"HourOfDay"</span>,<span class="st">"DayOfMonth"</span>])[<span class="st">'TotalDue'</span>].<span class="bu">sum</span>().reset_index()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="1cf17e74" class="cell custompython" data-execution_count="9">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Reorders the two-dimensional histogram as a matrix-like dataframe.</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>hmap <span class="op">=</span> histoValues.pivot(index<span class="op">=</span><span class="st">"HourOfDay"</span>, columns<span class="op">=</span><span class="st">"DayOfMonth"</span>, values<span class="op">=</span><span class="st">"TotalDue"</span>).fillna(<span class="dv">0</span>)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Use those indexes for the row and column indexes.</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>days <span class="op">=</span> <span class="bu">list</span>(<span class="bu">range</span>(<span class="dv">1</span>, <span class="dv">32</span>))</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>hours <span class="op">=</span> <span class="bu">list</span>(<span class="bu">range</span>(<span class="dv">24</span>))</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Apply those indexes to the dataframe, filling nonexistent (na) values with zeros.</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>hmap <span class="op">=</span> hmap.reindex(index<span class="op">=</span>hours).reindex(columns<span class="op">=</span>days).fillna(<span class="dv">0</span>)</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>hmap.to_csv(<span class="st">"transactions-totaldue-heatmap.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Now that we have our well-formed two-dimensional dataframe we can plot it as a heat map.</p>
<div id="61264af7" class="cell custompython" data-execution_count="10">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the heatmap.</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> go.Figure(data<span class="op">=</span>go.Heatmap(</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>    z<span class="op">=</span>hmap.values,</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span>hmap.columns,</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span>hmap.index,</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>    colorscale<span class="op">=</span><span class="st">'Jet'</span>,</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>    text<span class="op">=</span>hmap.values,</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>    texttemplate<span class="op">=</span><span class="st">"%</span><span class="sc">{text:.0f}</span><span class="st">"</span>,  <span class="co"># Format text to display as integers</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>    textfont<span class="op">=</span>{<span class="st">"size"</span>:<span class="dv">10</span>},</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>    hoverinfo<span class="op">=</span><span class="st">'z'</span>,  <span class="co"># Display value on hover</span></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>    showscale<span class="op">=</span><span class="va">True</span></span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>))</span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Update layout to add thin lines around each cell.</span></span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a><span class="co"># This was suggested by Code Copilot!</span></span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a>fig.update_traces(</span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a>    zmin<span class="op">=</span><span class="dv">0</span>, zmax<span class="op">=</span>hmap.values.<span class="bu">max</span>(),  </span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a>    xgap<span class="op">=</span><span class="dv">1</span>,  </span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a>    ygap<span class="op">=</span><span class="dv">1</span>,  </span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a>    colorbar<span class="op">=</span><span class="bu">dict</span>(tickfont<span class="op">=</span><span class="bu">dict</span>(size<span class="op">=</span><span class="dv">10</span>))  </span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb12-21"><a href="#cb12-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Customize the layout.</span></span>
<span id="cb12-22"><a href="#cb12-22" aria-hidden="true" tabindex="-1"></a>fig.update_layout(</span>
<span id="cb12-23"><a href="#cb12-23" aria-hidden="true" tabindex="-1"></a>    title<span class="op">=</span><span class="st">'Heatmap of Total Due for Transactions'</span>,</span>
<span id="cb12-24"><a href="#cb12-24" aria-hidden="true" tabindex="-1"></a>    xaxis_title<span class="op">=</span><span class="st">'Day of Month'</span>,</span>
<span id="cb12-25"><a href="#cb12-25" aria-hidden="true" tabindex="-1"></a>    yaxis_title<span class="op">=</span><span class="st">'Hour of Day'</span>,</span>
<span id="cb12-26"><a href="#cb12-26" aria-hidden="true" tabindex="-1"></a>    xaxis<span class="op">=</span><span class="bu">dict</span>(</span>
<span id="cb12-27"><a href="#cb12-27" aria-hidden="true" tabindex="-1"></a>        tickmode<span class="op">=</span><span class="st">'linear'</span>,</span>
<span id="cb12-28"><a href="#cb12-28" aria-hidden="true" tabindex="-1"></a>        dtick<span class="op">=</span><span class="dv">1</span>,  </span>
<span id="cb12-29"><a href="#cb12-29" aria-hidden="true" tabindex="-1"></a>        tickfont<span class="op">=</span><span class="bu">dict</span>(size<span class="op">=</span><span class="dv">10</span>),</span>
<span id="cb12-30"><a href="#cb12-30" aria-hidden="true" tabindex="-1"></a>        showgrid<span class="op">=</span><span class="va">False</span>,</span>
<span id="cb12-31"><a href="#cb12-31" aria-hidden="true" tabindex="-1"></a>        zeroline<span class="op">=</span><span class="va">False</span> <span class="co"># Remove grid lines</span></span>
<span id="cb12-32"><a href="#cb12-32" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb12-33"><a href="#cb12-33" aria-hidden="true" tabindex="-1"></a>    yaxis<span class="op">=</span><span class="bu">dict</span>(</span>
<span id="cb12-34"><a href="#cb12-34" aria-hidden="true" tabindex="-1"></a>        tickmode<span class="op">=</span><span class="st">'linear'</span>,</span>
<span id="cb12-35"><a href="#cb12-35" aria-hidden="true" tabindex="-1"></a>        dtick<span class="op">=</span><span class="dv">1</span>, </span>
<span id="cb12-36"><a href="#cb12-36" aria-hidden="true" tabindex="-1"></a>        tickfont<span class="op">=</span><span class="bu">dict</span>(size<span class="op">=</span><span class="dv">10</span>),</span>
<span id="cb12-37"><a href="#cb12-37" aria-hidden="true" tabindex="-1"></a>        showgrid<span class="op">=</span><span class="va">False</span>,</span>
<span id="cb12-38"><a href="#cb12-38" aria-hidden="true" tabindex="-1"></a>        zeroline<span class="op">=</span><span class="va">False</span> <span class="co"># Remove grid lines</span></span>
<span id="cb12-39"><a href="#cb12-39" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb12-40"><a href="#cb12-40" aria-hidden="true" tabindex="-1"></a>    plot_bgcolor<span class="op">=</span><span class="st">'#808080'</span>, </span>
<span id="cb12-41"><a href="#cb12-41" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb12-42"><a href="#cb12-42" aria-hidden="true" tabindex="-1"></a><span class="co"># Invert the Y-axis.</span></span>
<span id="cb12-43"><a href="#cb12-43" aria-hidden="true" tabindex="-1"></a>fig.update_yaxes(autorange<span class="op">=</span><span class="st">'reversed'</span>)</span>
<span id="cb12-44"><a href="#cb12-44" aria-hidden="true" tabindex="-1"></a><span class="co"># Show the plot.</span></span>
<span id="cb12-45"><a href="#cb12-45" aria-hidden="true" tabindex="-1"></a>fig.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>                            <div id="91dc1e21-ce02-418e-8a12-e2222946ad4b" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("91dc1e21-ce02-418e-8a12-e2222946ad4b")) {                    Plotly.newPlot(                        "91dc1e21-ce02-418e-8a12-e2222946ad4b",                        [{"colorscale":[[0.0,"rgb(0,0,131)"],[0.2,"rgb(0,60,170)"],[0.4,"rgb(5,255,255)"],[0.6,"rgb(255,255,0)"],[0.8,"rgb(250,0,0)"],[1.0,"rgb(128,0,0)"]],"hoverinfo":"z","showscale":true,"text":[[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0],[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0],[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0],[0.0,0.0,0.0,0.0,0.0,0.0,0.0,84.55,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,25.07,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,49.489999999999995,0.0,0.0],[0.0,190.85,0.0,311.19,0.0,0.0,0.0,505.17,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,55.58,417.59,0.0,52.76,82.16,0.0,0.0,233.59,80.45,190.64,0.0,0.0],[0.0,449.8,0.0,67.32,0.0,0.0,0.0,102.24,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,509.11,390.63,418.61,313.82,440.07,0.0,249.61,0.0,31.639999999999997,482.28000000000003,0.0,0.0],[0.0,515.25,0.0,0.0,0.0,0.0,0.0,0.0,0.0,164.63,0.0,0.0,0.0,0.0,95.52,0.0,0.0,0.0,0.0,383.47999999999996,432.22,528.23,487.81,387.71,0.0,429.77,77.71000000000001,46.08,312.67,0.0,0.0],[53.06,646.35,196.91,373.81,434.37,94.89,223.9,288.38,283.04,945.26,238.95,466.97,224.13,476.39,612.24,577.73,592.69,334.98,519.25,1329.16,846.37,886.38,576.73,1006.51,521.97,537.9399999999999,333.95,302.22,842.02,944.47,507.46],[2181.56,1798.09,1383.96,1994.23,1026.23,1240.58,1967.82,2107.71,1379.7,1153.38,1177.59,1169.04,1057.53,3217.64,1975.9,1730.86,1661.45,1784.56,1865.92,2795.67,2085.2599999999998,1385.31,2320.69,1752.82,1372.1,1849.55,2625.86,1884.61,1972.58,2690.96,1814.66],[1891.11,2003.05,2944.9900000000002,2352.34,1724.34,2054.17,3874.5299999999997,2790.99,2050.91,2135.86,2470.66,1383.82,2013.8600000000001,3850.61,2521.33,2441.83,3453.7200000000003,2747.1,2858.96,2145.86,2831.83,2462.66,2244.94,2263.71,2169.43,1958.28,3834.28,2565.08,1796.21,3452.17,3080.71],[2896.34,2563.05,3210.21,3831.82,2754.91,3283.39,4118.41,4320.13,1857.55,3046.12,2474.27,2003.33,2469.88,4269.67,2572.34,3117.79,2668.5,2837.13,2363.32,1737.45,2684.13,2779.85,2781.0,1676.99,2384.52,2595.83,2929.98,4048.09,2177.7,4690.63,2827.42],[4257.0,2720.67,2252.23,2261.23,2691.86,3235.97,4109.37,3204.77,1793.78,1710.83,2280.9700000000003,3337.65,3298.05,3898.64,2133.53,2246.08,3285.29,2581.23,2294.15,1953.74,3842.24,2261.87,2363.88,1614.3,2304.28,3462.87,3869.65,3950.4500000000003,2661.02,4352.7,2407.08],[4029.61,1962.4,2528.38,2329.23,2597.82,1456.99,3255.34,2492.07,1517.35,1007.25,1599.0,995.98,3555.15,2944.11,2435.88,1372.11,2278.7200000000003,1477.96,2023.95,2354.6,3344.94,2553.11,2351.06,2472.4,1951.71,2542.84,2820.02,2654.45,1317.88,2833.91,1249.6],[1059.1299999999999,2467.81,2956.37,2536.59,2141.87,2065.2999999999997,2257.96,905.9300000000001,2426.91,792.83,2093.29,760.79,929.32,2371.03,263.69,945.25,956.85,930.0,1901.8200000000002,1505.98,2058.2200000000003,597.35,1682.79,1430.18,2264.58,479.36,1619.5,2795.43,128.29,2971.7,1630.69],[0.0,2173.7,2193.35,2385.08,1214.27,2048.67,3080.5,0.0,1947.8,1655.92,912.4300000000001,1233.8,1495.44,2786.98,0.0,1445.07,1984.6299999999999,2496.0099999999998,1807.91,1454.58,2557.01,0.0,2337.43,1520.14,2191.41,79.53,2041.46,3256.31,0.0,3218.78,1699.38],[0.0,2195.59,3301.1600000000003,1899.73,1354.18,1686.56,3134.39,0.0,2309.77,1282.58,970.54,945.09,2251.51,2348.2,0.0,1139.02,1640.17,1361.56,1212.11,1825.1,3500.36,0.0,2001.74,1958.49,2273.75,0.0,2050.19,3426.17,0.0,4433.27,2613.7],[0.0,3118.36,2600.8,2275.85,3580.82,2619.92,2839.54,0.0,3257.75,2077.41,1300.58,1284.22,2693.39,3704.37,0.0,2428.45,1890.17,2379.98,2331.77,2970.27,4138.51,0.0,2981.02,2030.34,2830.2599999999998,0.0,2709.13,3302.17,0.0,3562.32,2324.12],[0.0,2459.07,2763.97,1675.96,2594.4900000000002,4838.2699999999995,3972.4900000000002,0.0,3323.09,2601.59,1854.84,2630.96,3709.59,4282.69,0.0,4615.22,3141.34,3289.92,2897.09,3376.73,4143.74,0.0,3963.15,2978.02,3759.33,0.0,4129.06,3785.28,0.0,5081.22,2856.82],[0.0,4172.25,2921.46,3550.66,3264.83,3816.92,4512.41,0.0,3460.2200000000003,3237.14,3297.58,2502.83,5226.91,4866.13,0.0,3833.56,3934.57,2792.76,2387.05,3633.42,4777.64,0.0,3765.7599999999998,3419.62,4519.06,0.0,3889.1,4036.02,0.0,4759.61,4292.27],[0.0,5116.07,2525.41,2398.15,2323.15,3427.52,3947.58,0.0,2560.71,1857.07,3172.7799999999997,1686.14,3591.09,3925.46,0.0,3166.45,2471.63,2777.54,1293.27,3192.82,1870.95,0.0,2826.59,2152.62,3128.04,0.0,3518.71,2483.66,0.0,4105.58,3560.86],[0.0,1375.72,683.9399999999999,507.62,458.49,801.47,531.04,0.0,379.18,762.79,775.37,371.03000000000003,855.27,456.96999999999997,0.0,340.99,590.35,435.84000000000003,764.91,513.47,509.66999999999996,0.0,363.12,1053.73,677.5,0.0,741.1,884.17,0.0,920.37,1030.76],[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0],[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0],[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0]],"textfont":{"size":10},"texttemplate":"%{text:.0f}","x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],"y":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"z":[[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0],[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0],[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0],[0.0,0.0,0.0,0.0,0.0,0.0,0.0,84.55,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,25.07,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,49.489999999999995,0.0,0.0],[0.0,190.85,0.0,311.19,0.0,0.0,0.0,505.17,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,55.58,417.59,0.0,52.76,82.16,0.0,0.0,233.59,80.45,190.64,0.0,0.0],[0.0,449.8,0.0,67.32,0.0,0.0,0.0,102.24,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,509.11,390.63,418.61,313.82,440.07,0.0,249.61,0.0,31.639999999999997,482.28000000000003,0.0,0.0],[0.0,515.25,0.0,0.0,0.0,0.0,0.0,0.0,0.0,164.63,0.0,0.0,0.0,0.0,95.52,0.0,0.0,0.0,0.0,383.47999999999996,432.22,528.23,487.81,387.71,0.0,429.77,77.71000000000001,46.08,312.67,0.0,0.0],[53.06,646.35,196.91,373.81,434.37,94.89,223.9,288.38,283.04,945.26,238.95,466.97,224.13,476.39,612.24,577.73,592.69,334.98,519.25,1329.16,846.37,886.38,576.73,1006.51,521.97,537.9399999999999,333.95,302.22,842.02,944.47,507.46],[2181.56,1798.09,1383.96,1994.23,1026.23,1240.58,1967.82,2107.71,1379.7,1153.38,1177.59,1169.04,1057.53,3217.64,1975.9,1730.86,1661.45,1784.56,1865.92,2795.67,2085.2599999999998,1385.31,2320.69,1752.82,1372.1,1849.55,2625.86,1884.61,1972.58,2690.96,1814.66],[1891.11,2003.05,2944.9900000000002,2352.34,1724.34,2054.17,3874.5299999999997,2790.99,2050.91,2135.86,2470.66,1383.82,2013.8600000000001,3850.61,2521.33,2441.83,3453.7200000000003,2747.1,2858.96,2145.86,2831.83,2462.66,2244.94,2263.71,2169.43,1958.28,3834.28,2565.08,1796.21,3452.17,3080.71],[2896.34,2563.05,3210.21,3831.82,2754.91,3283.39,4118.41,4320.13,1857.55,3046.12,2474.27,2003.33,2469.88,4269.67,2572.34,3117.79,2668.5,2837.13,2363.32,1737.45,2684.13,2779.85,2781.0,1676.99,2384.52,2595.83,2929.98,4048.09,2177.7,4690.63,2827.42],[4257.0,2720.67,2252.23,2261.23,2691.86,3235.97,4109.37,3204.77,1793.78,1710.83,2280.9700000000003,3337.65,3298.05,3898.64,2133.53,2246.08,3285.29,2581.23,2294.15,1953.74,3842.24,2261.87,2363.88,1614.3,2304.28,3462.87,3869.65,3950.4500000000003,2661.02,4352.7,2407.08],[4029.61,1962.4,2528.38,2329.23,2597.82,1456.99,3255.34,2492.07,1517.35,1007.25,1599.0,995.98,3555.15,2944.11,2435.88,1372.11,2278.7200000000003,1477.96,2023.95,2354.6,3344.94,2553.11,2351.06,2472.4,1951.71,2542.84,2820.02,2654.45,1317.88,2833.91,1249.6],[1059.1299999999999,2467.81,2956.37,2536.59,2141.87,2065.2999999999997,2257.96,905.9300000000001,2426.91,792.83,2093.29,760.79,929.32,2371.03,263.69,945.25,956.85,930.0,1901.8200000000002,1505.98,2058.2200000000003,597.35,1682.79,1430.18,2264.58,479.36,1619.5,2795.43,128.29,2971.7,1630.69],[0.0,2173.7,2193.35,2385.08,1214.27,2048.67,3080.5,0.0,1947.8,1655.92,912.4300000000001,1233.8,1495.44,2786.98,0.0,1445.07,1984.6299999999999,2496.0099999999998,1807.91,1454.58,2557.01,0.0,2337.43,1520.14,2191.41,79.53,2041.46,3256.31,0.0,3218.78,1699.38],[0.0,2195.59,3301.1600000000003,1899.73,1354.18,1686.56,3134.39,0.0,2309.77,1282.58,970.54,945.09,2251.51,2348.2,0.0,1139.02,1640.17,1361.56,1212.11,1825.1,3500.36,0.0,2001.74,1958.49,2273.75,0.0,2050.19,3426.17,0.0,4433.27,2613.7],[0.0,3118.36,2600.8,2275.85,3580.82,2619.92,2839.54,0.0,3257.75,2077.41,1300.58,1284.22,2693.39,3704.37,0.0,2428.45,1890.17,2379.98,2331.77,2970.27,4138.51,0.0,2981.02,2030.34,2830.2599999999998,0.0,2709.13,3302.17,0.0,3562.32,2324.12],[0.0,2459.07,2763.97,1675.96,2594.4900000000002,4838.2699999999995,3972.4900000000002,0.0,3323.09,2601.59,1854.84,2630.96,3709.59,4282.69,0.0,4615.22,3141.34,3289.92,2897.09,3376.73,4143.74,0.0,3963.15,2978.02,3759.33,0.0,4129.06,3785.28,0.0,5081.22,2856.82],[0.0,4172.25,2921.46,3550.66,3264.83,3816.92,4512.41,0.0,3460.2200000000003,3237.14,3297.58,2502.83,5226.91,4866.13,0.0,3833.56,3934.57,2792.76,2387.05,3633.42,4777.64,0.0,3765.7599999999998,3419.62,4519.06,0.0,3889.1,4036.02,0.0,4759.61,4292.27],[0.0,5116.07,2525.41,2398.15,2323.15,3427.52,3947.58,0.0,2560.71,1857.07,3172.7799999999997,1686.14,3591.09,3925.46,0.0,3166.45,2471.63,2777.54,1293.27,3192.82,1870.95,0.0,2826.59,2152.62,3128.04,0.0,3518.71,2483.66,0.0,4105.58,3560.86],[0.0,1375.72,683.9399999999999,507.62,458.49,801.47,531.04,0.0,379.18,762.79,775.37,371.03000000000003,855.27,456.96999999999997,0.0,340.99,590.35,435.84000000000003,764.91,513.47,509.66999999999996,0.0,363.12,1053.73,677.5,0.0,741.1,884.17,0.0,920.37,1030.76],[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0],[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0],[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0]],"type":"heatmap","colorbar":{"tickfont":{"size":10}},"xgap":1,"ygap":1,"zmax":5226.91,"zmin":0}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"xaxis":{"tickfont":{"size":10},"title":{"text":"Day of Month"},"tickmode":"linear","dtick":1,"showgrid":false,"zeroline":false},"yaxis":{"tickfont":{"size":10},"title":{"text":"Hour of Day"},"tickmode":"linear","dtick":1,"showgrid":false,"zeroline":false,"autorange":"reversed"},"title":{"text":"Heatmap of Total Due for Transactions"},"plot_bgcolor":"#808080"},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('91dc1e21-ce02-418e-8a12-e2222946ad4b');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
<div id="2994b1e0" class="cell custompython" data-execution_count="11">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>cerv <span class="op">=</span> supermDF[supermDF[<span class="st">'Description'</span>].<span class="bu">str</span>.contains(<span class="st">"BEB. CERV."</span>, case<span class="op">=</span><span class="va">False</span>, na<span class="op">=</span><span class="va">False</span>)]</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>cerv[<span class="st">'DayOfMonth'</span>] <span class="op">=</span> cerv[<span class="st">'DateTime'</span>].dt.day</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>cerv[<span class="st">'HourOfDay'</span>] <span class="op">=</span> cerv[<span class="st">'DateTime'</span>].dt.hour</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>histoValues <span class="op">=</span> cerv.groupby([<span class="st">"HourOfDay"</span>,<span class="st">"DayOfMonth"</span>])[<span class="st">'TotalDue'</span>].<span class="bu">sum</span>().reset_index()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>/var/folders/m8/dc_5nrhd5wqc0pxv77f9t9140000gn/T/ipykernel_39822/3765139457.py:2: SettingWithCopyWarning:


A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy

/var/folders/m8/dc_5nrhd5wqc0pxv77f9t9140000gn/T/ipykernel_39822/3765139457.py:3: SettingWithCopyWarning:


A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
</code></pre>
</div>
</div>
<div id="45bd1053" class="cell custompython" data-execution_count="12">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Reorders the two-dimensional histogram as a matrix-like dataframe.</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>hmap <span class="op">=</span> histoValues.pivot(index<span class="op">=</span><span class="st">"HourOfDay"</span>, columns<span class="op">=</span><span class="st">"DayOfMonth"</span>, values<span class="op">=</span><span class="st">"TotalDue"</span>).fillna(<span class="dv">0</span>)</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Use those indexes for the row and column indexes.</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>days <span class="op">=</span> <span class="bu">list</span>(<span class="bu">range</span>(<span class="dv">1</span>, <span class="dv">32</span>))</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>hours <span class="op">=</span> <span class="bu">list</span>(<span class="bu">range</span>(<span class="dv">24</span>))</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Apply those indexes to the dataframe, filling nonexistent (na) values with zeros.</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>hmap <span class="op">=</span> hmap.reindex(index<span class="op">=</span>hours).reindex(columns<span class="op">=</span>days).fillna(<span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Now that we have our well-formed two-dimensional dataframe we can plot it as a heat map.</p>
<div id="ccaa58a8" class="cell custompython" data-execution_count="13">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the heatmap.</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> go.Figure(data<span class="op">=</span>go.Heatmap(</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>    z<span class="op">=</span>hmap.values,</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span>hmap.columns,</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span>hmap.index,</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>    colorscale<span class="op">=</span><span class="st">'Jet'</span>,</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>    text<span class="op">=</span>hmap.values,</span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>    texttemplate<span class="op">=</span><span class="st">"%</span><span class="sc">{text:.0f}</span><span class="st">"</span>,  <span class="co"># Format text to display as integers</span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>    textfont<span class="op">=</span>{<span class="st">"size"</span>:<span class="dv">10</span>},</span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>    hoverinfo<span class="op">=</span><span class="st">'z'</span>,  <span class="co"># Display value on hover</span></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>    showscale<span class="op">=</span><span class="va">True</span></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>))</span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Update layout to add thin lines around each cell.</span></span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a><span class="co"># This was suggested by Code Copilot!</span></span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>fig.update_traces(</span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a>    zmin<span class="op">=</span><span class="dv">0</span>, zmax<span class="op">=</span>hmap.values.<span class="bu">max</span>(),  </span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a>    xgap<span class="op">=</span><span class="dv">1</span>,  </span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a>    ygap<span class="op">=</span><span class="dv">1</span>,  </span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a>    colorbar<span class="op">=</span><span class="bu">dict</span>(tickfont<span class="op">=</span><span class="bu">dict</span>(size<span class="op">=</span><span class="dv">10</span>))  </span>
<span id="cb16-20"><a href="#cb16-20" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb16-21"><a href="#cb16-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Customize the layout.</span></span>
<span id="cb16-22"><a href="#cb16-22" aria-hidden="true" tabindex="-1"></a>fig.update_layout(</span>
<span id="cb16-23"><a href="#cb16-23" aria-hidden="true" tabindex="-1"></a>    title<span class="op">=</span><span class="st">'Heatmap of Total Sales for Beer'</span>,</span>
<span id="cb16-24"><a href="#cb16-24" aria-hidden="true" tabindex="-1"></a>    xaxis_title<span class="op">=</span><span class="st">'Day of Month'</span>,</span>
<span id="cb16-25"><a href="#cb16-25" aria-hidden="true" tabindex="-1"></a>    yaxis_title<span class="op">=</span><span class="st">'Hour of Day'</span>,</span>
<span id="cb16-26"><a href="#cb16-26" aria-hidden="true" tabindex="-1"></a>    xaxis<span class="op">=</span><span class="bu">dict</span>(</span>
<span id="cb16-27"><a href="#cb16-27" aria-hidden="true" tabindex="-1"></a>        tickmode<span class="op">=</span><span class="st">'linear'</span>,</span>
<span id="cb16-28"><a href="#cb16-28" aria-hidden="true" tabindex="-1"></a>        dtick<span class="op">=</span><span class="dv">1</span>,  </span>
<span id="cb16-29"><a href="#cb16-29" aria-hidden="true" tabindex="-1"></a>        tickfont<span class="op">=</span><span class="bu">dict</span>(size<span class="op">=</span><span class="dv">10</span>),</span>
<span id="cb16-30"><a href="#cb16-30" aria-hidden="true" tabindex="-1"></a>        showgrid<span class="op">=</span><span class="va">False</span>,</span>
<span id="cb16-31"><a href="#cb16-31" aria-hidden="true" tabindex="-1"></a>        zeroline<span class="op">=</span><span class="va">False</span> <span class="co"># Remove grid lines</span></span>
<span id="cb16-32"><a href="#cb16-32" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb16-33"><a href="#cb16-33" aria-hidden="true" tabindex="-1"></a>    yaxis<span class="op">=</span><span class="bu">dict</span>(</span>
<span id="cb16-34"><a href="#cb16-34" aria-hidden="true" tabindex="-1"></a>        tickmode<span class="op">=</span><span class="st">'linear'</span>,</span>
<span id="cb16-35"><a href="#cb16-35" aria-hidden="true" tabindex="-1"></a>        dtick<span class="op">=</span><span class="dv">1</span>, </span>
<span id="cb16-36"><a href="#cb16-36" aria-hidden="true" tabindex="-1"></a>        tickfont<span class="op">=</span><span class="bu">dict</span>(size<span class="op">=</span><span class="dv">10</span>),</span>
<span id="cb16-37"><a href="#cb16-37" aria-hidden="true" tabindex="-1"></a>        showgrid<span class="op">=</span><span class="va">False</span>,</span>
<span id="cb16-38"><a href="#cb16-38" aria-hidden="true" tabindex="-1"></a>        zeroline<span class="op">=</span><span class="va">False</span> <span class="co"># Remove grid lines</span></span>
<span id="cb16-39"><a href="#cb16-39" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb16-40"><a href="#cb16-40" aria-hidden="true" tabindex="-1"></a>    plot_bgcolor<span class="op">=</span><span class="st">'#808080'</span>, </span>
<span id="cb16-41"><a href="#cb16-41" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb16-42"><a href="#cb16-42" aria-hidden="true" tabindex="-1"></a><span class="co"># Invert the Y-axis.</span></span>
<span id="cb16-43"><a href="#cb16-43" aria-hidden="true" tabindex="-1"></a>fig.update_yaxes(autorange<span class="op">=</span><span class="st">'reversed'</span>)</span>
<span id="cb16-44"><a href="#cb16-44" aria-hidden="true" tabindex="-1"></a><span class="co"># Show the plot.</span></span>
<span id="cb16-45"><a href="#cb16-45" aria-hidden="true" tabindex="-1"></a>fig.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>                            <div id="e7f0763d-bbae-47cc-a49f-c847de6cb27b" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("e7f0763d-bbae-47cc-a49f-c847de6cb27b")) {                    Plotly.newPlot(                        "e7f0763d-bbae-47cc-a49f-c847de6cb27b",                        [{"colorscale":[[0.0,"rgb(0,0,131)"],[0.2,"rgb(0,60,170)"],[0.4,"rgb(5,255,255)"],[0.6,"rgb(255,255,0)"],[0.8,"rgb(250,0,0)"],[1.0,"rgb(128,0,0)"]],"hoverinfo":"z","showscale":true,"text":[[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0],[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0],[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0],[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0],[0.0,6.86,0.0,0.0,0.0,0.0,0.0,18.24,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,7.9,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0],[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,50.59,49.54,0.0,0.0,0.0,0.0,0.0,0.0,14.299999999999999,0.0,0.0],[0.0,24.54,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,63.6,143.02,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0],[0.0,0.0,0.0,0.0,98.9,0.0,0.0,0.0,1.58,0.0,0.0,0.0,0.0,14.08,0.0,0.0,7.1,0.0,0.0,0.0,0.0,63.15,0.0,5.91,0.0,0.0,27.39,0.0,0.0,12.64,0.0],[202.20000000000002,0.0,0.0,215.85999999999999,0.0,340.12,128.61,121.17,66.19,0.0,0.0,67.05000000000001,25.490000000000002,572.1800000000001,40.48,0.0,23.4,13.82,60.17,1704.07,76.9,0.0,0.0,11.32,19.53,57.760000000000005,0.0,0.0,128.13,0.0,0.0],[163.95,297.09,57.34,121.45,0.0,118.79,172.57999999999998,69.98,0.0,145.07999999999998,90.7,11.16,283.47,633.0899999999999,282.07,48.78,213.76999999999998,102.86,32.11,36.58,1.58,393.69,0.0,0.0,39.519999999999996,36.64,0.0,15.73,36.72,319.03,15.16],[891.11,103.38,135.88,470.84000000000003,158.2,16.26,421.62,532.59,15.370000000000001,0.0,48.44,122.04,575.6,528.86,169.72,68.36,5.0,25.17,35.22,120.8,365.86,1185.98,267.74,0.0,551.22,523.63,20.1,121.66,113.99,35.33,0.0],[973.02,5.97,16.8,236.82999999999998,20.03,0.0,242.81,285.77,0.0,167.81,18.46,0.0,59.02,646.54,138.53,0.0,26.02,69.11,210.42000000000002,22.439999999999998,117.63,16.69,0.0,9.0,323.84,221.4,43.75,194.09,58.68,328.69,171.69],[552.94,0.0,10.45,181.75,4.7,336.63,284.3,234.08,1.63,6.89,0.0,0.0,11.49,58.47,800.2099999999999,0.0,376.28,1.1,161.53,279.14,78.46000000000001,678.22,5.68,0.0,1133.98,261.87,183.64000000000001,0.0,10.21,537.03,33.56],[65.1,437.80999999999995,266.04999999999995,0.0,19.43,24.36,95.44,324.35,74.75,18.080000000000002,850.09,13.14,177.93,174.23000000000002,35.879999999999995,36.54,0.0,56.25,263.8,63.19,303.75,40.01,10.58,0.0,0.0,0.0,127.93,89.50999999999999,0.0,14.32,221.16],[0.0,337.51,0.0,110.9,305.14,16.02,133.61,0.0,20.259999999999998,333.86,197.6,6.95,245.07999999999998,1002.61,0.0,0.0,470.8,183.7,12.34,17.26,160.17000000000002,0.0,3.3,24.89,0.0,0.0,0.0,253.25,0.0,796.5,30.43],[0.0,0.0,0.0,5.86,76.94,0.0,73.63,0.0,1103.48,7.03,0.0,57.94,62.89,33.22,0.0,85.17,184.42000000000002,13.2,0.0,10.69,77.31,0.0,31.59,53.74,187.29,0.0,54.15,83.47999999999999,0.0,221.97,2.85],[0.0,150.3,78.15,144.15,325.61,26.84,411.64,0.0,14.8,19.07,52.300000000000004,30.290000000000003,222.07999999999998,352.05,0.0,35.47,67.96000000000001,100.83999999999999,0.0,79.53999999999999,562.02,0.0,0.0,117.99000000000001,96.44,0.0,3.98,1004.76,0.0,172.27,0.0],[0.0,0.0,17.74,21.46,5.53,1010.6700000000001,201.35000000000002,0.0,46.28,9.23,15.45,16.06,986.27,252.39,0.0,224.4,124.65,240.96,148.95,31.11,549.77,0.0,28.29,40.77,649.11,0.0,436.57,669.6600000000001,0.0,302.65,56.04],[0.0,287.93,338.39,809.18,17.52,343.93,230.96,0.0,16.25,51.269999999999996,860.39,97.67,282.84999999999997,282.34,0.0,41.660000000000004,530.79,229.44,55.95,74.57,202.5,0.0,56.21,14.079999999999998,26.52,0.0,241.38,464.75,0.0,57.93,27.72],[0.0,397.3,11.72,210.11,4.9,200.76,905.15,0.0,112.67999999999999,7.44,432.49,42.93,369.33000000000004,110.02000000000001,0.0,126.63,158.38,231.41,46.56,133.1,209.31,0.0,1.65,56.489999999999995,388.26,0.0,19.2,192.24,0.0,139.1,439.1],[0.0,0.0,25.19,7.55,243.25,5.22,126.33999999999999,0.0,0.0,0.0,5.53,46.6,178.35000000000002,12.12,0.0,29.67,49.84,0.0,9.03,0.0,169.7,0.0,4.17,242.48,0.0,0.0,0.0,151.89000000000001,0.0,0.0,9.03],[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0],[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0],[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0]],"textfont":{"size":10},"texttemplate":"%{text:.0f}","x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],"y":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"z":[[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0],[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0],[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0],[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0],[0.0,6.86,0.0,0.0,0.0,0.0,0.0,18.24,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,7.9,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0],[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,50.59,49.54,0.0,0.0,0.0,0.0,0.0,0.0,14.299999999999999,0.0,0.0],[0.0,24.54,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,63.6,143.02,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0],[0.0,0.0,0.0,0.0,98.9,0.0,0.0,0.0,1.58,0.0,0.0,0.0,0.0,14.08,0.0,0.0,7.1,0.0,0.0,0.0,0.0,63.15,0.0,5.91,0.0,0.0,27.39,0.0,0.0,12.64,0.0],[202.20000000000002,0.0,0.0,215.85999999999999,0.0,340.12,128.61,121.17,66.19,0.0,0.0,67.05000000000001,25.490000000000002,572.1800000000001,40.48,0.0,23.4,13.82,60.17,1704.07,76.9,0.0,0.0,11.32,19.53,57.760000000000005,0.0,0.0,128.13,0.0,0.0],[163.95,297.09,57.34,121.45,0.0,118.79,172.57999999999998,69.98,0.0,145.07999999999998,90.7,11.16,283.47,633.0899999999999,282.07,48.78,213.76999999999998,102.86,32.11,36.58,1.58,393.69,0.0,0.0,39.519999999999996,36.64,0.0,15.73,36.72,319.03,15.16],[891.11,103.38,135.88,470.84000000000003,158.2,16.26,421.62,532.59,15.370000000000001,0.0,48.44,122.04,575.6,528.86,169.72,68.36,5.0,25.17,35.22,120.8,365.86,1185.98,267.74,0.0,551.22,523.63,20.1,121.66,113.99,35.33,0.0],[973.02,5.97,16.8,236.82999999999998,20.03,0.0,242.81,285.77,0.0,167.81,18.46,0.0,59.02,646.54,138.53,0.0,26.02,69.11,210.42000000000002,22.439999999999998,117.63,16.69,0.0,9.0,323.84,221.4,43.75,194.09,58.68,328.69,171.69],[552.94,0.0,10.45,181.75,4.7,336.63,284.3,234.08,1.63,6.89,0.0,0.0,11.49,58.47,800.2099999999999,0.0,376.28,1.1,161.53,279.14,78.46000000000001,678.22,5.68,0.0,1133.98,261.87,183.64000000000001,0.0,10.21,537.03,33.56],[65.1,437.80999999999995,266.04999999999995,0.0,19.43,24.36,95.44,324.35,74.75,18.080000000000002,850.09,13.14,177.93,174.23000000000002,35.879999999999995,36.54,0.0,56.25,263.8,63.19,303.75,40.01,10.58,0.0,0.0,0.0,127.93,89.50999999999999,0.0,14.32,221.16],[0.0,337.51,0.0,110.9,305.14,16.02,133.61,0.0,20.259999999999998,333.86,197.6,6.95,245.07999999999998,1002.61,0.0,0.0,470.8,183.7,12.34,17.26,160.17000000000002,0.0,3.3,24.89,0.0,0.0,0.0,253.25,0.0,796.5,30.43],[0.0,0.0,0.0,5.86,76.94,0.0,73.63,0.0,1103.48,7.03,0.0,57.94,62.89,33.22,0.0,85.17,184.42000000000002,13.2,0.0,10.69,77.31,0.0,31.59,53.74,187.29,0.0,54.15,83.47999999999999,0.0,221.97,2.85],[0.0,150.3,78.15,144.15,325.61,26.84,411.64,0.0,14.8,19.07,52.300000000000004,30.290000000000003,222.07999999999998,352.05,0.0,35.47,67.96000000000001,100.83999999999999,0.0,79.53999999999999,562.02,0.0,0.0,117.99000000000001,96.44,0.0,3.98,1004.76,0.0,172.27,0.0],[0.0,0.0,17.74,21.46,5.53,1010.6700000000001,201.35000000000002,0.0,46.28,9.23,15.45,16.06,986.27,252.39,0.0,224.4,124.65,240.96,148.95,31.11,549.77,0.0,28.29,40.77,649.11,0.0,436.57,669.6600000000001,0.0,302.65,56.04],[0.0,287.93,338.39,809.18,17.52,343.93,230.96,0.0,16.25,51.269999999999996,860.39,97.67,282.84999999999997,282.34,0.0,41.660000000000004,530.79,229.44,55.95,74.57,202.5,0.0,56.21,14.079999999999998,26.52,0.0,241.38,464.75,0.0,57.93,27.72],[0.0,397.3,11.72,210.11,4.9,200.76,905.15,0.0,112.67999999999999,7.44,432.49,42.93,369.33000000000004,110.02000000000001,0.0,126.63,158.38,231.41,46.56,133.1,209.31,0.0,1.65,56.489999999999995,388.26,0.0,19.2,192.24,0.0,139.1,439.1],[0.0,0.0,25.19,7.55,243.25,5.22,126.33999999999999,0.0,0.0,0.0,5.53,46.6,178.35000000000002,12.12,0.0,29.67,49.84,0.0,9.03,0.0,169.7,0.0,4.17,242.48,0.0,0.0,0.0,151.89000000000001,0.0,0.0,9.03],[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0],[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0],[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0]],"type":"heatmap","colorbar":{"tickfont":{"size":10}},"xgap":1,"ygap":1,"zmax":1704.07,"zmin":0}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"xaxis":{"tickfont":{"size":10},"title":{"text":"Day of Month"},"tickmode":"linear","dtick":1,"showgrid":false,"zeroline":false},"yaxis":{"tickfont":{"size":10},"title":{"text":"Hour of Day"},"tickmode":"linear","dtick":1,"showgrid":false,"zeroline":false,"autorange":"reversed"},"title":{"text":"Heatmap of Total Sales for Beer"},"plot_bgcolor":"#808080"},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('e7f0763d-bbae-47cc-a49f-c847de6cb27b');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
<div id="216caafe" class="cell custompython" data-execution_count="14">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> countContains(df, substring):</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>    matching_descriptions <span class="op">=</span> df[df[<span class="st">'Description'</span>].<span class="bu">str</span>.contains(substring, case<span class="op">=</span><span class="va">False</span>, na<span class="op">=</span><span class="va">False</span>)]</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>    description_counts <span class="op">=</span> matching_descriptions.groupby(<span class="st">'Description'</span>).size().reset_index(name<span class="op">=</span><span class="st">'Count'</span>)</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> description_counts</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Forma"</span>,countContains(supermDF,<span class="st">"FORMA"</span>))</span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Refrigerante"</span>,countContains(supermDF,<span class="st">"BEB. REF."</span>))</span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Cerveja"</span>,countContains(supermDF,<span class="st">"BEB. CERV."</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Forma                Description  Count
0   FORMA BOLO RAMOS QUAD.      2
1   FORMA EIRILAR PUDIM S/      2
2   FORMA FESTLAR N5 BRANC      5
3   FORMA FESTLAR N6 AZUL       3
4   FORMA FESTLAR N6 BRANC      8
5   FORMA FESTLAR N6 ROSA      10
6   FORMA GELO JAGUAR R 61      2
7   FORMA GELO PLASVALE C/      1
8   FORMA MARINEX C.816228      1
9   FORMA MARINEX TORTA 63      1
10  FORMA PIZZA EIRILAR CO      1
11  FORMA PUDIM EIRILAR S/      5
12  FORMA RETANGULAR ARARA      4
13  PAO ENERGIA FORMA 500G    192
14  PAO FORMA                 674
15  PAO PANCO FORMA JUNIOR     38
16  PAO PANCO FORMA LIGHT      20
17  PAO PANCO FORMA TICA      571
18  PAO VENEZA FORMA 500G     141
19  PAO WICK BOLD FORMA        40
20  REV. BOA FORMA              1
Refrigerante                Description  Count
0   BEB. REF.ANTARTICA 2LT    480
1   BEB. REF.ANTARTICA 350    112
2   BEB. REF.ANTARTICA 600    116
3   BEB. REF.ANTARTICA GUA    124
4   BEB. REF.BRAHMA SUKITA     39
5   BEB. REF.COCA COLA  29      2
6   BEB. REF.COCA COLA  35    483
7   BEB. REF.COCA COLA  60    221
8   BEB. REF.COCA COLA 1,5    205
9   BEB. REF.COCA COLA 1L     348
10  BEB. REF.COCA COLA 2,5    220
11  BEB. REF.COCA COLA 2L    3303
12  BEB. REF.COCA COLA L.     142
13  BEB. REF.COCA COLA L.2    217
14  BEB. REF.COCA COLA L.L     17
15  BEB. REF.COCA COLA LIG     14
16  BEB. REF.FANTA LAR 600     36
17  BEB. REF.FANTA LAR MIX     50
18  BEB. REF.FANTA LARANJA    677
19  BEB. REF.FANTA UVA  35     54
20  BEB. REF.FANTA UVA  60     71
21  BEB. REF.FANTA UVA 2L     293
22  BEB. REF.KUAT  350ML       57
23  BEB. REF.KUAT  350ML L     19
24  BEB. REF.KUAT  600ML       50
25  BEB. REF.KUAT 1,5L          5
26  BEB. REF.KUAT 2L          390
27  BEB. REF.KUAT 2L LIGHT     73
28  BEB. REF.PEPSI 2L          48
29  BEB. REF.PEPSI 600ML        6
30  BEB. REF.PEPSI LT 350M     29
31  BEB. REF.PIRACAIA GUAR   1453
32  BEB. REF.PIRACAIA LARA    411
33  BEB. REF.PIRACAIA LIMA     57
34  BEB. REF.PIRACAIA TUTI    104
35  BEB. REF.PIRACAIA UVA      68
36  BEB. REF.SCHIN  350ML      12
37  BEB. REF.SPRITE  350ML     36
38  BEB. REF.SPRITE  600ML     29
39  BEB. REF.SPRITE 2L        144
40  BEB. REF.SPRITE 350ML      17
41  BEB. REF.SPRITE DIET 2     57
Cerveja                Description  Count
0   BEB. CERV.BAVARIA 355M      2
1   BEB. CERV.BAVARIA LT 3    415
2   BEB. CERV.BAVARIA PREM      3
3   BEB. CERV.BRAHMA LT 12      5
4   BEB. CERV.BRAHMA LT 35    124
5   BEB. CERV.CARACU L.N.       8
6   BEB. CERV.CARACU LT 35     62
7   BEB. CERV.GLACIAL 600M      1
8   BEB. CERV.HEINEKEN 350      1
9   BEB. CERV.KAISER 350ML    140
10  BEB. CERV.KAISER 355 M      4
11  BEB. CERV.PRIMUS 600ML      5
12  BEB. CERV.SANTA CERVA       1
13  BEB. CERV.SCHIN 350ML       5
14  BEB. CERV.SCHIN LN TEQ      3
15  BEB. CERV.SCHIN S/A LN      1
16  BEB. CERV.SCHIN S/ALC.      1
17  BEB. CERV.SCHINCARIOL      15
18  BEB. CERV.SKOL 600ML      187
19  BEB. CERV.SKOL BEATS L      2
20  BEB. CERV.SKOL LN 355M     12
21  BEB. CERV.SKOL LT 350M    178
22  BEB. CERV.SKOL LT 473M     83
23  BEB. CERV.XINGU 350ML       3
24  BEB. CERV.XINGU 355ML       6</code></pre>
</div>
</div>
<div id="ceed159d" class="cell custompython" data-execution_count="15">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> plotly.graph_objects <span class="im">as</span> go</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.cm <span class="im">as</span> cm</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.colors <span class="im">as</span> mcolors</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> pd.read_csv(<span class="st">"transactions-number-heatmap.csv"</span>)</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Prepare the data for plotting</span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>hourly_data <span class="op">=</span> data.set_index(<span class="st">'HourOfDay'</span>)</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>cmap <span class="op">=</span> cm.get_cmap(<span class="st">'viridis'</span>, <span class="bu">len</span>(hourly_data.columns))</span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>colors <span class="op">=</span> [mcolors.to_hex(cmap(i)) <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(hourly_data.columns))]</span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the plot</span></span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> go.Figure()</span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Add a line for each day with a color ramp</span></span>
<span id="cb19-18"><a href="#cb19-18" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i, day <span class="kw">in</span> <span class="bu">enumerate</span>(hourly_data.columns):</span>
<span id="cb19-19"><a href="#cb19-19" aria-hidden="true" tabindex="-1"></a>    fig.add_trace(go.Scatter(</span>
<span id="cb19-20"><a href="#cb19-20" aria-hidden="true" tabindex="-1"></a>        x<span class="op">=</span>hourly_data.index,</span>
<span id="cb19-21"><a href="#cb19-21" aria-hidden="true" tabindex="-1"></a>        y<span class="op">=</span>hourly_data[day],</span>
<span id="cb19-22"><a href="#cb19-22" aria-hidden="true" tabindex="-1"></a>        mode<span class="op">=</span><span class="st">'lines'</span>,</span>
<span id="cb19-23"><a href="#cb19-23" aria-hidden="true" tabindex="-1"></a>        line<span class="op">=</span><span class="bu">dict</span>(color<span class="op">=</span>colors[i]),</span>
<span id="cb19-24"><a href="#cb19-24" aria-hidden="true" tabindex="-1"></a>        name<span class="op">=</span><span class="ss">f'Day </span><span class="sc">{</span>day<span class="sc">}</span><span class="ss">'</span>,</span>
<span id="cb19-25"><a href="#cb19-25" aria-hidden="true" tabindex="-1"></a>        showlegend<span class="op">=</span><span class="va">False</span>  <span class="co"># Disable the legend</span></span>
<span id="cb19-26"><a href="#cb19-26" aria-hidden="true" tabindex="-1"></a>    ))</span>
<span id="cb19-27"><a href="#cb19-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-28"><a href="#cb19-28" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the total number of transactions per hour across all days</span></span>
<span id="cb19-29"><a href="#cb19-29" aria-hidden="true" tabindex="-1"></a>total_transactions_per_hour <span class="op">=</span> hourly_data.<span class="bu">sum</span>(axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb19-30"><a href="#cb19-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-31"><a href="#cb19-31" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the weighted average hour</span></span>
<span id="cb19-32"><a href="#cb19-32" aria-hidden="true" tabindex="-1"></a>hours <span class="op">=</span> hourly_data.index.values</span>
<span id="cb19-33"><a href="#cb19-33" aria-hidden="true" tabindex="-1"></a>weighted_average_hour <span class="op">=</span> (total_transactions_per_hour <span class="op">*</span> hours).<span class="bu">sum</span>() <span class="op">/</span> total_transactions_per_hour.<span class="bu">sum</span>()</span>
<span id="cb19-34"><a href="#cb19-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-35"><a href="#cb19-35" aria-hidden="true" tabindex="-1"></a><span class="co"># Add a thick vertical red line for the weighted average hour</span></span>
<span id="cb19-36"><a href="#cb19-36" aria-hidden="true" tabindex="-1"></a>fig.add_trace(go.Scatter(</span>
<span id="cb19-37"><a href="#cb19-37" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span>[weighted_average_hour, weighted_average_hour],</span>
<span id="cb19-38"><a href="#cb19-38" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span>[<span class="dv">0</span>, hourly_data.values.<span class="bu">max</span>()],</span>
<span id="cb19-39"><a href="#cb19-39" aria-hidden="true" tabindex="-1"></a>    mode<span class="op">=</span><span class="st">'lines'</span>,</span>
<span id="cb19-40"><a href="#cb19-40" aria-hidden="true" tabindex="-1"></a>    line<span class="op">=</span><span class="bu">dict</span>(color<span class="op">=</span><span class="st">'red'</span>, width<span class="op">=</span><span class="dv">4</span>),</span>
<span id="cb19-41"><a href="#cb19-41" aria-hidden="true" tabindex="-1"></a>    name<span class="op">=</span><span class="st">'Peak Hour'</span>,</span>
<span id="cb19-42"><a href="#cb19-42" aria-hidden="true" tabindex="-1"></a>    showlegend<span class="op">=</span><span class="va">True</span>  <span class="co"># Show legend for the average hour line</span></span>
<span id="cb19-43"><a href="#cb19-43" aria-hidden="true" tabindex="-1"></a>))</span>
<span id="cb19-44"><a href="#cb19-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-45"><a href="#cb19-45" aria-hidden="true" tabindex="-1"></a><span class="co"># Customize the layout</span></span>
<span id="cb19-46"><a href="#cb19-46" aria-hidden="true" tabindex="-1"></a>fig.update_layout(</span>
<span id="cb19-47"><a href="#cb19-47" aria-hidden="true" tabindex="-1"></a>    title<span class="op">=</span><span class="st">'Hourly Transactions for Each Day of the Month'</span>,</span>
<span id="cb19-48"><a href="#cb19-48" aria-hidden="true" tabindex="-1"></a>    xaxis_title<span class="op">=</span><span class="st">'Hour of the Day'</span>,</span>
<span id="cb19-49"><a href="#cb19-49" aria-hidden="true" tabindex="-1"></a>    yaxis_title<span class="op">=</span><span class="st">'Number of Transactions'</span>,</span>
<span id="cb19-50"><a href="#cb19-50" aria-hidden="true" tabindex="-1"></a>    xaxis<span class="op">=</span><span class="bu">dict</span>(tickmode<span class="op">=</span><span class="st">'linear'</span>, tick0<span class="op">=</span><span class="dv">0</span>, dtick<span class="op">=</span><span class="dv">1</span>),</span>
<span id="cb19-51"><a href="#cb19-51" aria-hidden="true" tabindex="-1"></a>    hovermode<span class="op">=</span><span class="st">'x unified'</span></span>
<span id="cb19-52"><a href="#cb19-52" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb19-53"><a href="#cb19-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-54"><a href="#cb19-54" aria-hidden="true" tabindex="-1"></a><span class="co"># Show the plot</span></span>
<span id="cb19-55"><a href="#cb19-55" aria-hidden="true" tabindex="-1"></a>fig.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>/var/folders/m8/dc_5nrhd5wqc0pxv77f9t9140000gn/T/ipykernel_39822/710920284.py:10: MatplotlibDeprecationWarning:

The get_cmap function was deprecated in Matplotlib 3.7 and will be removed two minor releases later. Use ``matplotlib.colormaps[name]`` or ``matplotlib.colormaps.get_cmap(obj)`` instead.
</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>                            <div id="6bfc9570-1774-4c92-8fd0-fbf6f9984ad3" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("6bfc9570-1774-4c92-8fd0-fbf6f9984ad3")) {                    Plotly.newPlot(                        "6bfc9570-1774-4c92-8fd0-fbf6f9984ad3",                        [{"line":{"color":"#440154"},"mode":"lines","name":"Day 1","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,17.0,209.0,215.0,284.0,264.0,219.0,99.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#470d60"},"mode":"lines","name":"Day 2","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,27.0,49.0,59.0,88.0,177.0,157.0,198.0,185.0,190.0,156.0,95.0,124.0,180.0,186.0,289.0,244.0,70.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#481a6c"},"mode":"lines","name":"Day 3","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,28.0,163.0,194.0,246.0,205.0,190.0,188.0,153.0,142.0,171.0,207.0,223.0,154.0,19.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#482475"},"mode":"lines","name":"Day 4","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,31.0,8.0,0.0,73.0,157.0,187.0,190.0,210.0,180.0,153.0,129.0,134.0,217.0,217.0,213.0,160.0,39.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#472f7d"},"mode":"lines","name":"Day 5","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,65.0,115.0,208.0,193.0,235.0,185.0,164.0,111.0,122.0,213.0,209.0,220.0,204.0,25.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#443983"},"mode":"lines","name":"Day 6","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,21.0,158.0,173.0,223.0,257.0,162.0,131.0,150.0,110.0,209.0,225.0,276.0,189.0,54.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#414487"},"mode":"lines","name":"Day 7","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,44.0,173.0,221.0,272.0,235.0,213.0,145.0,176.0,160.0,169.0,299.0,287.0,227.0,36.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#3d4d8a"},"mode":"lines","name":"Day 8","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,10.0,52.0,6.0,0.0,49.0,190.0,301.0,298.0,311.0,265.0,44.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#39568c"},"mode":"lines","name":"Day 9","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,54.0,140.0,208.0,191.0,178.0,157.0,138.0,143.0,134.0,201.0,274.0,283.0,193.0,30.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#355f8d"},"mode":"lines","name":"Day 10","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,0.0,0.0,16.0,65.0,160.0,188.0,185.0,128.0,114.0,94.0,148.0,169.0,203.0,261.0,255.0,181.0,56.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#31688e"},"mode":"lines","name":"Day 11","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,49.0,177.0,239.0,251.0,168.0,106.0,75.0,74.0,110.0,178.0,239.0,245.0,179.0,43.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#2d708e"},"mode":"lines","name":"Day 12","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,50.0,148.0,183.0,169.0,257.0,122.0,120.0,132.0,92.0,155.0,285.0,234.0,186.0,32.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#2a788e"},"mode":"lines","name":"Day 13","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,37.0,143.0,203.0,231.0,281.0,228.0,121.0,129.0,207.0,282.0,370.0,354.0,280.0,75.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#27808e"},"mode":"lines","name":"Day 14","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,75.0,268.0,294.0,326.0,349.0,243.0,184.0,188.0,190.0,238.0,373.0,364.0,308.0,28.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#23888e"},"mode":"lines","name":"Day 15","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,0.0,0.0,5.0,71.0,203.0,291.0,252.0,254.0,202.0,24.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#21918c"},"mode":"lines","name":"Day 16","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,84.0,274.0,272.0,268.0,313.0,206.0,137.0,193.0,168.0,264.0,394.0,417.0,283.0,42.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#1f988b"},"mode":"lines","name":"Day 17","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,92.0,252.0,260.0,295.0,310.0,253.0,139.0,150.0,180.0,226.0,374.0,333.0,238.0,75.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#1fa188"},"mode":"lines","name":"Day 18","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,69.0,231.0,297.0,315.0,273.0,173.0,122.0,190.0,186.0,271.0,361.0,336.0,224.0,30.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#22a884"},"mode":"lines","name":"Day 19","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,95.0,231.0,275.0,260.0,243.0,210.0,174.0,134.0,205.0,239.0,296.0,299.0,183.0,62.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#2ab07f"},"mode":"lines","name":"Day 20","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,6.0,14.0,43.0,44.0,121.0,265.0,267.0,235.0,204.0,197.0,177.0,155.0,167.0,263.0,343.0,272.0,252.0,56.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#35b779"},"mode":"lines","name":"Day 21","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,47.0,58.0,46.0,99.0,236.0,243.0,255.0,325.0,292.0,187.0,227.0,262.0,313.0,390.0,364.0,167.0,34.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#44bf70"},"mode":"lines","name":"Day 22","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,0.0,58.0,47.0,94.0,197.0,273.0,256.0,262.0,186.0,48.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#54c568"},"mode":"lines","name":"Day 23","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,13.0,36.0,46.0,93.0,261.0,255.0,230.0,269.0,268.0,229.0,228.0,251.0,304.0,360.0,336.0,251.0,49.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#67cc5c"},"mode":"lines","name":"Day 24","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,14.0,41.0,43.0,157.0,248.0,243.0,202.0,207.0,208.0,146.0,169.0,170.0,317.0,341.0,314.0,217.0,95.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#7ad151"},"mode":"lines","name":"Day 25","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,57.0,175.0,224.0,261.0,212.0,226.0,212.0,217.0,232.0,288.0,397.0,322.0,215.0,54.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#90d743"},"mode":"lines","name":"Day 26","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,0.0,34.0,65.0,105.0,226.0,248.0,253.0,316.0,278.0,52.0,12.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#a5db36"},"mode":"lines","name":"Day 27","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,25.0,0.0,8.0,57.0,230.0,333.0,324.0,363.0,270.0,165.0,230.0,198.0,361.0,352.0,356.0,290.0,61.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#bddf26"},"mode":"lines","name":"Day 28","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,9.0,4.0,7.0,39.0,204.0,291.0,329.0,298.0,282.0,245.0,238.0,267.0,293.0,335.0,346.0,231.0,69.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#d2e21b"},"mode":"lines","name":"Day 29","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,7.0,27.0,71.0,45.0,113.0,221.0,209.0,255.0,257.0,151.0,18.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#eae51a"},"mode":"lines","name":"Day 30","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,154.0,356.0,369.0,355.0,360.0,305.0,296.0,246.0,343.0,399.0,570.0,475.0,344.0,95.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#fde725"},"mode":"lines","name":"Day 31","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,77.0,249.0,286.0,327.0,263.0,196.0,157.0,184.0,213.0,311.0,332.0,324.0,272.0,44.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"red","width":4},"mode":"lines","name":"Peak Hour","showlegend":true,"x":[13.173460039819712,13.173460039819712],"y":[0,570.0],"type":"scatter"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"xaxis":{"title":{"text":"Hour of the Day"},"tickmode":"linear","tick0":0,"dtick":1},"title":{"text":"Hourly Transactions for Each Day of the Month"},"yaxis":{"title":{"text":"Number of Transactions"}},"hovermode":"x unified"},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('6bfc9570-1774-4c92-8fd0-fbf6f9984ad3');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
<div id="0601c31d" class="cell custompython" data-execution_count="16">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>hourly_data <span class="op">=</span> data.set_index(<span class="st">'HourOfDay'</span>)</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>holidays <span class="op">=</span> [<span class="st">'1'</span>, <span class="st">'8'</span>, <span class="st">'15'</span>, <span class="st">'22'</span>, <span class="st">'26'</span>, <span class="st">'29'</span>]</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>workdays <span class="op">=</span> [day <span class="cf">for</span> day <span class="kw">in</span> hourly_data.columns <span class="cf">if</span> day <span class="kw">not</span> <span class="kw">in</span> holidays]</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Split the data into workdays and holidays</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>workdays_data <span class="op">=</span> hourly_data[workdays]</span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>holidays_data <span class="op">=</span> hourly_data[holidays]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="959f0f1c" class="cell custompython" data-execution_count="17">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> plotly.graph_objects <span class="im">as</span> go</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.cm <span class="im">as</span> cm</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.colors <span class="im">as</span> mcolors</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Prepare the data</span></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>hourly_data <span class="op">=</span> data.set_index(<span class="st">'HourOfDay'</span>)</span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Define holidays and workdays based on the given information</span></span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>holidays <span class="op">=</span> [<span class="st">'1'</span>, <span class="st">'8'</span>, <span class="st">'15'</span>, <span class="st">'22'</span>, <span class="st">'26'</span>, <span class="st">'29'</span>]</span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a>workdays <span class="op">=</span> [day <span class="cf">for</span> day <span class="kw">in</span> hourly_data.columns <span class="cf">if</span> day <span class="kw">not</span> <span class="kw">in</span> holidays]</span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Split the data into workdays and holidays</span></span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a>workdays_data <span class="op">=</span> hourly_data[workdays]</span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a>holidays_data <span class="op">=</span> hourly_data[holidays]</span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a color map using greenish hues for workdays and reddish hues for holidays</span></span>
<span id="cb22-19"><a href="#cb22-19" aria-hidden="true" tabindex="-1"></a>workday_colors <span class="op">=</span> [mcolors.to_hex(cm.Greens(i <span class="op">/</span> <span class="bu">len</span>(workdays_data.columns))) <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(workdays_data.columns))]</span>
<span id="cb22-20"><a href="#cb22-20" aria-hidden="true" tabindex="-1"></a>holiday_colors <span class="op">=</span> [mcolors.to_hex(cm.Reds(i <span class="op">/</span> <span class="bu">len</span>(holidays_data.columns))) <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(holidays_data.columns))]</span>
<span id="cb22-21"><a href="#cb22-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-22"><a href="#cb22-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the plot</span></span>
<span id="cb22-23"><a href="#cb22-23" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> go.Figure()</span>
<span id="cb22-24"><a href="#cb22-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-25"><a href="#cb22-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Add a line for each workday</span></span>
<span id="cb22-26"><a href="#cb22-26" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i, day <span class="kw">in</span> <span class="bu">enumerate</span>(workdays_data.columns):</span>
<span id="cb22-27"><a href="#cb22-27" aria-hidden="true" tabindex="-1"></a>    fig.add_trace(go.Scatter(</span>
<span id="cb22-28"><a href="#cb22-28" aria-hidden="true" tabindex="-1"></a>        x<span class="op">=</span>workdays_data.index,</span>
<span id="cb22-29"><a href="#cb22-29" aria-hidden="true" tabindex="-1"></a>        y<span class="op">=</span>workdays_data[day],</span>
<span id="cb22-30"><a href="#cb22-30" aria-hidden="true" tabindex="-1"></a>        mode<span class="op">=</span><span class="st">'lines'</span>,</span>
<span id="cb22-31"><a href="#cb22-31" aria-hidden="true" tabindex="-1"></a>        line<span class="op">=</span><span class="bu">dict</span>(color<span class="op">=</span>workday_colors[i]),</span>
<span id="cb22-32"><a href="#cb22-32" aria-hidden="true" tabindex="-1"></a>        name<span class="op">=</span><span class="ss">f'Workday </span><span class="sc">{</span>day<span class="sc">}</span><span class="ss">'</span>,</span>
<span id="cb22-33"><a href="#cb22-33" aria-hidden="true" tabindex="-1"></a>        showlegend<span class="op">=</span><span class="va">False</span>  <span class="co"># Disable the legend</span></span>
<span id="cb22-34"><a href="#cb22-34" aria-hidden="true" tabindex="-1"></a>    ))</span>
<span id="cb22-35"><a href="#cb22-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-36"><a href="#cb22-36" aria-hidden="true" tabindex="-1"></a><span class="co"># Add a line for each holiday</span></span>
<span id="cb22-37"><a href="#cb22-37" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i, day <span class="kw">in</span> <span class="bu">enumerate</span>(holidays_data.columns):</span>
<span id="cb22-38"><a href="#cb22-38" aria-hidden="true" tabindex="-1"></a>    fig.add_trace(go.Scatter(</span>
<span id="cb22-39"><a href="#cb22-39" aria-hidden="true" tabindex="-1"></a>        x<span class="op">=</span>holidays_data.index,</span>
<span id="cb22-40"><a href="#cb22-40" aria-hidden="true" tabindex="-1"></a>        y<span class="op">=</span>holidays_data[day],</span>
<span id="cb22-41"><a href="#cb22-41" aria-hidden="true" tabindex="-1"></a>        mode<span class="op">=</span><span class="st">'lines'</span>,</span>
<span id="cb22-42"><a href="#cb22-42" aria-hidden="true" tabindex="-1"></a>        line<span class="op">=</span><span class="bu">dict</span>(color<span class="op">=</span>holiday_colors[i]),</span>
<span id="cb22-43"><a href="#cb22-43" aria-hidden="true" tabindex="-1"></a>        name<span class="op">=</span><span class="ss">f'Holiday </span><span class="sc">{</span>day<span class="sc">}</span><span class="ss">'</span>,</span>
<span id="cb22-44"><a href="#cb22-44" aria-hidden="true" tabindex="-1"></a>        showlegend<span class="op">=</span><span class="va">False</span>  <span class="co"># Disable the legend</span></span>
<span id="cb22-45"><a href="#cb22-45" aria-hidden="true" tabindex="-1"></a>    ))</span>
<span id="cb22-46"><a href="#cb22-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-47"><a href="#cb22-47" aria-hidden="true" tabindex="-1"></a><span class="co"># Customize the layout</span></span>
<span id="cb22-48"><a href="#cb22-48" aria-hidden="true" tabindex="-1"></a>fig.update_layout(</span>
<span id="cb22-49"><a href="#cb22-49" aria-hidden="true" tabindex="-1"></a>    title<span class="op">=</span><span class="st">'Hourly Transactions for Workdays and Holidays'</span>,</span>
<span id="cb22-50"><a href="#cb22-50" aria-hidden="true" tabindex="-1"></a>    xaxis_title<span class="op">=</span><span class="st">'Hour of the Day'</span>,</span>
<span id="cb22-51"><a href="#cb22-51" aria-hidden="true" tabindex="-1"></a>    yaxis_title<span class="op">=</span><span class="st">'Number of Transactions'</span>,</span>
<span id="cb22-52"><a href="#cb22-52" aria-hidden="true" tabindex="-1"></a>    xaxis<span class="op">=</span><span class="bu">dict</span>(tickmode<span class="op">=</span><span class="st">'linear'</span>, tick0<span class="op">=</span><span class="dv">0</span>, dtick<span class="op">=</span><span class="dv">1</span>),</span>
<span id="cb22-53"><a href="#cb22-53" aria-hidden="true" tabindex="-1"></a>    hovermode<span class="op">=</span><span class="st">'x unified'</span></span>
<span id="cb22-54"><a href="#cb22-54" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb22-55"><a href="#cb22-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-56"><a href="#cb22-56" aria-hidden="true" tabindex="-1"></a><span class="co"># Show the plot</span></span>
<span id="cb22-57"><a href="#cb22-57" aria-hidden="true" tabindex="-1"></a>fig.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>                            <div id="65cb842e-09f4-4900-b762-6833ddc6fc80" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("65cb842e-09f4-4900-b762-6833ddc6fc80")) {                    Plotly.newPlot(                        "65cb842e-09f4-4900-b762-6833ddc6fc80",                        [{"line":{"color":"#f7fcf5"},"mode":"lines","name":"Workday 2","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,27.0,49.0,59.0,88.0,177.0,157.0,198.0,185.0,190.0,156.0,95.0,124.0,180.0,186.0,289.0,244.0,70.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#f1faee"},"mode":"lines","name":"Workday 3","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,28.0,163.0,194.0,246.0,205.0,190.0,188.0,153.0,142.0,171.0,207.0,223.0,154.0,19.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#ecf8e8"},"mode":"lines","name":"Workday 4","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,31.0,8.0,0.0,73.0,157.0,187.0,190.0,210.0,180.0,153.0,129.0,134.0,217.0,217.0,213.0,160.0,39.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#e6f5e1"},"mode":"lines","name":"Workday 5","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,65.0,115.0,208.0,193.0,235.0,185.0,164.0,111.0,122.0,213.0,209.0,220.0,204.0,25.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#ddf2d8"},"mode":"lines","name":"Workday 6","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,21.0,158.0,173.0,223.0,257.0,162.0,131.0,150.0,110.0,209.0,225.0,276.0,189.0,54.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#d3eecd"},"mode":"lines","name":"Workday 7","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,44.0,173.0,221.0,272.0,235.0,213.0,145.0,176.0,160.0,169.0,299.0,287.0,227.0,36.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#caeac3"},"mode":"lines","name":"Workday 9","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,54.0,140.0,208.0,191.0,178.0,157.0,138.0,143.0,134.0,201.0,274.0,283.0,193.0,30.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#bee5b8"},"mode":"lines","name":"Workday 10","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,0.0,0.0,16.0,65.0,160.0,188.0,185.0,128.0,114.0,94.0,148.0,169.0,203.0,261.0,255.0,181.0,56.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#b2e0ac"},"mode":"lines","name":"Workday 11","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,49.0,177.0,239.0,251.0,168.0,106.0,75.0,74.0,110.0,178.0,239.0,245.0,179.0,43.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#a5db9f"},"mode":"lines","name":"Workday 12","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,50.0,148.0,183.0,169.0,257.0,122.0,120.0,132.0,92.0,155.0,285.0,234.0,186.0,32.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#98d594"},"mode":"lines","name":"Workday 13","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,37.0,143.0,203.0,231.0,281.0,228.0,121.0,129.0,207.0,282.0,370.0,354.0,280.0,75.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#8ace88"},"mode":"lines","name":"Workday 14","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,75.0,268.0,294.0,326.0,349.0,243.0,184.0,188.0,190.0,238.0,373.0,364.0,308.0,28.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#7cc87c"},"mode":"lines","name":"Workday 16","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,84.0,274.0,272.0,268.0,313.0,206.0,137.0,193.0,168.0,264.0,394.0,417.0,283.0,42.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#6bc072"},"mode":"lines","name":"Workday 17","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,92.0,252.0,260.0,295.0,310.0,253.0,139.0,150.0,180.0,226.0,374.0,333.0,238.0,75.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#5bb86a"},"mode":"lines","name":"Workday 18","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,69.0,231.0,297.0,315.0,273.0,173.0,122.0,190.0,186.0,271.0,361.0,336.0,224.0,30.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#4bb062"},"mode":"lines","name":"Workday 19","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,95.0,231.0,275.0,260.0,243.0,210.0,174.0,134.0,205.0,239.0,296.0,299.0,183.0,62.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#3ea75a"},"mode":"lines","name":"Workday 20","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,6.0,14.0,43.0,44.0,121.0,265.0,267.0,235.0,204.0,197.0,177.0,155.0,167.0,263.0,343.0,272.0,252.0,56.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#339c52"},"mode":"lines","name":"Workday 21","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,47.0,58.0,46.0,99.0,236.0,243.0,255.0,325.0,292.0,187.0,227.0,262.0,313.0,390.0,364.0,167.0,34.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#2a924a"},"mode":"lines","name":"Workday 23","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,13.0,36.0,46.0,93.0,261.0,255.0,230.0,269.0,268.0,229.0,228.0,251.0,304.0,360.0,336.0,251.0,49.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#208843"},"mode":"lines","name":"Workday 24","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,14.0,41.0,43.0,157.0,248.0,243.0,202.0,207.0,208.0,146.0,169.0,170.0,317.0,341.0,314.0,217.0,95.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#157f3b"},"mode":"lines","name":"Workday 25","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,57.0,175.0,224.0,261.0,212.0,226.0,212.0,217.0,232.0,288.0,397.0,322.0,215.0,54.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#097532"},"mode":"lines","name":"Workday 27","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,25.0,0.0,8.0,57.0,230.0,333.0,324.0,363.0,270.0,165.0,230.0,198.0,361.0,352.0,356.0,290.0,61.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#006b2b"},"mode":"lines","name":"Workday 28","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,9.0,4.0,7.0,39.0,204.0,291.0,329.0,298.0,282.0,245.0,238.0,267.0,293.0,335.0,346.0,231.0,69.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#005e26"},"mode":"lines","name":"Workday 30","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,154.0,356.0,369.0,355.0,360.0,305.0,296.0,246.0,343.0,399.0,570.0,475.0,344.0,95.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#005120"},"mode":"lines","name":"Workday 31","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,77.0,249.0,286.0,327.0,263.0,196.0,157.0,184.0,213.0,311.0,332.0,324.0,272.0,44.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#fff5f0"},"mode":"lines","name":"Holiday 1","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,17.0,209.0,215.0,284.0,264.0,219.0,99.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#fdd4c2"},"mode":"lines","name":"Holiday 8","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,10.0,52.0,6.0,0.0,49.0,190.0,301.0,298.0,311.0,265.0,44.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#fca082"},"mode":"lines","name":"Holiday 15","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,0.0,0.0,5.0,71.0,203.0,291.0,252.0,254.0,202.0,24.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#fb694a"},"mode":"lines","name":"Holiday 22","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,0.0,58.0,47.0,94.0,197.0,273.0,256.0,262.0,186.0,48.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#e32f27"},"mode":"lines","name":"Holiday 26","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,0.0,34.0,65.0,105.0,226.0,248.0,253.0,316.0,278.0,52.0,12.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#b11218"},"mode":"lines","name":"Holiday 29","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,7.0,27.0,71.0,45.0,113.0,221.0,209.0,255.0,257.0,151.0,18.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0],"type":"scatter"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"xaxis":{"title":{"text":"Hour of the Day"},"tickmode":"linear","tick0":0,"dtick":1},"title":{"text":"Hourly Transactions for Workdays and Holidays"},"yaxis":{"title":{"text":"Number of Transactions"}},"hovermode":"x unified"},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('65cb842e-09f4-4900-b762-6833ddc6fc80');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
<div id="4e23526f" class="cell custompython" data-execution_count="18">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> plotly.graph_objects <span class="im">as</span> go</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.cm <span class="im">as</span> cm</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.colors <span class="im">as</span> mcolors</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the data</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> pd.read_csv(<span class="st">"transactions-number-heatmap.csv"</span>)</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Prepare the data for plotting</span></span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>hourly_data <span class="op">=</span> data.set_index(<span class="st">'HourOfDay'</span>)</span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Define holidays and workdays based on the given information</span></span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a>holidays <span class="op">=</span> [<span class="st">'1'</span>, <span class="st">'8'</span>, <span class="st">'15'</span>, <span class="st">'22'</span>, <span class="st">'26'</span>, <span class="st">'29'</span>]</span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a>workdays <span class="op">=</span> [day <span class="cf">for</span> day <span class="kw">in</span> hourly_data.columns <span class="cf">if</span> day <span class="kw">not</span> <span class="kw">in</span> holidays]</span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Split the data into workdays and holidays</span></span>
<span id="cb23-17"><a href="#cb23-17" aria-hidden="true" tabindex="-1"></a>workdays_data <span class="op">=</span> hourly_data[workdays]</span>
<span id="cb23-18"><a href="#cb23-18" aria-hidden="true" tabindex="-1"></a>holidays_data <span class="op">=</span> hourly_data[holidays]</span>
<span id="cb23-19"><a href="#cb23-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-20"><a href="#cb23-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the total number of transactions per hour for each subset</span></span>
<span id="cb23-21"><a href="#cb23-21" aria-hidden="true" tabindex="-1"></a>total_transactions_per_hour_workdays <span class="op">=</span> workdays_data.<span class="bu">sum</span>(axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb23-22"><a href="#cb23-22" aria-hidden="true" tabindex="-1"></a>total_transactions_per_hour_holidays <span class="op">=</span> holidays_data.<span class="bu">sum</span>(axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb23-23"><a href="#cb23-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-24"><a href="#cb23-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the weighted average hour for each subset</span></span>
<span id="cb23-25"><a href="#cb23-25" aria-hidden="true" tabindex="-1"></a>hours <span class="op">=</span> hourly_data.index.values</span>
<span id="cb23-26"><a href="#cb23-26" aria-hidden="true" tabindex="-1"></a>weighted_average_hour_workdays <span class="op">=</span> (total_transactions_per_hour_workdays <span class="op">*</span> hours).<span class="bu">sum</span>() <span class="op">/</span> total_transactions_per_hour_workdays.<span class="bu">sum</span>()</span>
<span id="cb23-27"><a href="#cb23-27" aria-hidden="true" tabindex="-1"></a>weighted_average_hour_holidays <span class="op">=</span> (total_transactions_per_hour_holidays <span class="op">*</span> hours).<span class="bu">sum</span>() <span class="op">/</span> total_transactions_per_hour_holidays.<span class="bu">sum</span>()</span>
<span id="cb23-28"><a href="#cb23-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-29"><a href="#cb23-29" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a color map using greenish hues for workdays and reddish hues for holidays</span></span>
<span id="cb23-30"><a href="#cb23-30" aria-hidden="true" tabindex="-1"></a>workday_colors <span class="op">=</span> [mcolors.to_hex(cm.Greens(i <span class="op">/</span> <span class="bu">len</span>(workdays_data.columns))) <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(workdays_data.columns))]</span>
<span id="cb23-31"><a href="#cb23-31" aria-hidden="true" tabindex="-1"></a>holiday_colors <span class="op">=</span> [mcolors.to_hex(cm.Reds(i <span class="op">/</span> <span class="bu">len</span>(holidays_data.columns))) <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(holidays_data.columns))]</span>
<span id="cb23-32"><a href="#cb23-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-33"><a href="#cb23-33" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the plot</span></span>
<span id="cb23-34"><a href="#cb23-34" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> go.Figure()</span>
<span id="cb23-35"><a href="#cb23-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-36"><a href="#cb23-36" aria-hidden="true" tabindex="-1"></a><span class="co"># Add a line for each workday</span></span>
<span id="cb23-37"><a href="#cb23-37" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i, day <span class="kw">in</span> <span class="bu">enumerate</span>(workdays_data.columns):</span>
<span id="cb23-38"><a href="#cb23-38" aria-hidden="true" tabindex="-1"></a>    fig.add_trace(go.Scatter(</span>
<span id="cb23-39"><a href="#cb23-39" aria-hidden="true" tabindex="-1"></a>        x<span class="op">=</span>workdays_data.index,</span>
<span id="cb23-40"><a href="#cb23-40" aria-hidden="true" tabindex="-1"></a>        y<span class="op">=</span>workdays_data[day],</span>
<span id="cb23-41"><a href="#cb23-41" aria-hidden="true" tabindex="-1"></a>        mode<span class="op">=</span><span class="st">'lines'</span>,</span>
<span id="cb23-42"><a href="#cb23-42" aria-hidden="true" tabindex="-1"></a>        line<span class="op">=</span><span class="bu">dict</span>(color<span class="op">=</span>workday_colors[i]),</span>
<span id="cb23-43"><a href="#cb23-43" aria-hidden="true" tabindex="-1"></a>        name<span class="op">=</span><span class="ss">f'Workday </span><span class="sc">{</span>day<span class="sc">}</span><span class="ss">'</span>,</span>
<span id="cb23-44"><a href="#cb23-44" aria-hidden="true" tabindex="-1"></a>        showlegend<span class="op">=</span><span class="va">False</span>  <span class="co"># Disable the legend</span></span>
<span id="cb23-45"><a href="#cb23-45" aria-hidden="true" tabindex="-1"></a>    ))</span>
<span id="cb23-46"><a href="#cb23-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-47"><a href="#cb23-47" aria-hidden="true" tabindex="-1"></a><span class="co"># Add a line for each holiday</span></span>
<span id="cb23-48"><a href="#cb23-48" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i, day <span class="kw">in</span> <span class="bu">enumerate</span>(holidays_data.columns):</span>
<span id="cb23-49"><a href="#cb23-49" aria-hidden="true" tabindex="-1"></a>    fig.add_trace(go.Scatter(</span>
<span id="cb23-50"><a href="#cb23-50" aria-hidden="true" tabindex="-1"></a>        x<span class="op">=</span>holidays_data.index,</span>
<span id="cb23-51"><a href="#cb23-51" aria-hidden="true" tabindex="-1"></a>        y<span class="op">=</span>holidays_data[day],</span>
<span id="cb23-52"><a href="#cb23-52" aria-hidden="true" tabindex="-1"></a>        mode<span class="op">=</span><span class="st">'lines'</span>,</span>
<span id="cb23-53"><a href="#cb23-53" aria-hidden="true" tabindex="-1"></a>        line<span class="op">=</span><span class="bu">dict</span>(color<span class="op">=</span>holiday_colors[i]),</span>
<span id="cb23-54"><a href="#cb23-54" aria-hidden="true" tabindex="-1"></a>        name<span class="op">=</span><span class="ss">f'Holiday </span><span class="sc">{</span>day<span class="sc">}</span><span class="ss">'</span>,</span>
<span id="cb23-55"><a href="#cb23-55" aria-hidden="true" tabindex="-1"></a>        showlegend<span class="op">=</span><span class="va">False</span>  <span class="co"># Disable the legend</span></span>
<span id="cb23-56"><a href="#cb23-56" aria-hidden="true" tabindex="-1"></a>    ))</span>
<span id="cb23-57"><a href="#cb23-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-58"><a href="#cb23-58" aria-hidden="true" tabindex="-1"></a><span class="co"># Add a thick vertical red line for the weighted average hour of workdays</span></span>
<span id="cb23-59"><a href="#cb23-59" aria-hidden="true" tabindex="-1"></a>fig.add_trace(go.Scatter(</span>
<span id="cb23-60"><a href="#cb23-60" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span>[weighted_average_hour_workdays, weighted_average_hour_workdays],</span>
<span id="cb23-61"><a href="#cb23-61" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span>[<span class="dv">0</span>, hourly_data.values.<span class="bu">max</span>()],</span>
<span id="cb23-62"><a href="#cb23-62" aria-hidden="true" tabindex="-1"></a>    mode<span class="op">=</span><span class="st">'lines'</span>,</span>
<span id="cb23-63"><a href="#cb23-63" aria-hidden="true" tabindex="-1"></a>    line<span class="op">=</span><span class="bu">dict</span>(color<span class="op">=</span><span class="st">'darkgreen'</span>, width<span class="op">=</span><span class="dv">4</span>),</span>
<span id="cb23-64"><a href="#cb23-64" aria-hidden="true" tabindex="-1"></a>    name<span class="op">=</span><span class="st">'Average Hour Workdays'</span>,</span>
<span id="cb23-65"><a href="#cb23-65" aria-hidden="true" tabindex="-1"></a>    showlegend<span class="op">=</span><span class="va">True</span>  <span class="co"># Show legend for the average hour line</span></span>
<span id="cb23-66"><a href="#cb23-66" aria-hidden="true" tabindex="-1"></a>))</span>
<span id="cb23-67"><a href="#cb23-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-68"><a href="#cb23-68" aria-hidden="true" tabindex="-1"></a><span class="co"># Add a thick vertical purple line for the weighted average hour of holidays</span></span>
<span id="cb23-69"><a href="#cb23-69" aria-hidden="true" tabindex="-1"></a>fig.add_trace(go.Scatter(</span>
<span id="cb23-70"><a href="#cb23-70" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span>[weighted_average_hour_holidays, weighted_average_hour_holidays],</span>
<span id="cb23-71"><a href="#cb23-71" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span>[<span class="dv">0</span>, hourly_data.values.<span class="bu">max</span>()],</span>
<span id="cb23-72"><a href="#cb23-72" aria-hidden="true" tabindex="-1"></a>    mode<span class="op">=</span><span class="st">'lines'</span>,</span>
<span id="cb23-73"><a href="#cb23-73" aria-hidden="true" tabindex="-1"></a>    line<span class="op">=</span><span class="bu">dict</span>(color<span class="op">=</span><span class="st">'darkred'</span>, width<span class="op">=</span><span class="dv">4</span>),</span>
<span id="cb23-74"><a href="#cb23-74" aria-hidden="true" tabindex="-1"></a>    name<span class="op">=</span><span class="st">'Average Hour Holidays'</span>,</span>
<span id="cb23-75"><a href="#cb23-75" aria-hidden="true" tabindex="-1"></a>    showlegend<span class="op">=</span><span class="va">True</span>  <span class="co"># Show legend for the average hour line</span></span>
<span id="cb23-76"><a href="#cb23-76" aria-hidden="true" tabindex="-1"></a>))</span>
<span id="cb23-77"><a href="#cb23-77" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-78"><a href="#cb23-78" aria-hidden="true" tabindex="-1"></a><span class="co"># Customize the layout</span></span>
<span id="cb23-79"><a href="#cb23-79" aria-hidden="true" tabindex="-1"></a>fig.update_layout(</span>
<span id="cb23-80"><a href="#cb23-80" aria-hidden="true" tabindex="-1"></a>    title<span class="op">=</span><span class="st">'Hourly Transactions with Average Hours for Workdays and Holidays'</span>,</span>
<span id="cb23-81"><a href="#cb23-81" aria-hidden="true" tabindex="-1"></a>    xaxis_title<span class="op">=</span><span class="st">'Hour of the Day'</span>,</span>
<span id="cb23-82"><a href="#cb23-82" aria-hidden="true" tabindex="-1"></a>    yaxis_title<span class="op">=</span><span class="st">'Number of Transactions'</span>,</span>
<span id="cb23-83"><a href="#cb23-83" aria-hidden="true" tabindex="-1"></a>    xaxis<span class="op">=</span><span class="bu">dict</span>(tickmode<span class="op">=</span><span class="st">'linear'</span>, tick0<span class="op">=</span><span class="dv">0</span>, dtick<span class="op">=</span><span class="dv">1</span>),</span>
<span id="cb23-84"><a href="#cb23-84" aria-hidden="true" tabindex="-1"></a>    hovermode<span class="op">=</span><span class="st">'x unified'</span></span>
<span id="cb23-85"><a href="#cb23-85" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb23-86"><a href="#cb23-86" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-87"><a href="#cb23-87" aria-hidden="true" tabindex="-1"></a><span class="co"># Show the plot</span></span>
<span id="cb23-88"><a href="#cb23-88" aria-hidden="true" tabindex="-1"></a>fig.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>                            <div id="fd8435ed-ad94-4d42-b1fc-9d762dc31e41" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("fd8435ed-ad94-4d42-b1fc-9d762dc31e41")) {                    Plotly.newPlot(                        "fd8435ed-ad94-4d42-b1fc-9d762dc31e41",                        [{"line":{"color":"#f7fcf5"},"mode":"lines","name":"Workday 2","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,27.0,49.0,59.0,88.0,177.0,157.0,198.0,185.0,190.0,156.0,95.0,124.0,180.0,186.0,289.0,244.0,70.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#f1faee"},"mode":"lines","name":"Workday 3","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,28.0,163.0,194.0,246.0,205.0,190.0,188.0,153.0,142.0,171.0,207.0,223.0,154.0,19.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#ecf8e8"},"mode":"lines","name":"Workday 4","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,31.0,8.0,0.0,73.0,157.0,187.0,190.0,210.0,180.0,153.0,129.0,134.0,217.0,217.0,213.0,160.0,39.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#e6f5e1"},"mode":"lines","name":"Workday 5","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,65.0,115.0,208.0,193.0,235.0,185.0,164.0,111.0,122.0,213.0,209.0,220.0,204.0,25.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#ddf2d8"},"mode":"lines","name":"Workday 6","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,21.0,158.0,173.0,223.0,257.0,162.0,131.0,150.0,110.0,209.0,225.0,276.0,189.0,54.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#d3eecd"},"mode":"lines","name":"Workday 7","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,44.0,173.0,221.0,272.0,235.0,213.0,145.0,176.0,160.0,169.0,299.0,287.0,227.0,36.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#caeac3"},"mode":"lines","name":"Workday 9","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,54.0,140.0,208.0,191.0,178.0,157.0,138.0,143.0,134.0,201.0,274.0,283.0,193.0,30.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#bee5b8"},"mode":"lines","name":"Workday 10","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,0.0,0.0,16.0,65.0,160.0,188.0,185.0,128.0,114.0,94.0,148.0,169.0,203.0,261.0,255.0,181.0,56.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#b2e0ac"},"mode":"lines","name":"Workday 11","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,49.0,177.0,239.0,251.0,168.0,106.0,75.0,74.0,110.0,178.0,239.0,245.0,179.0,43.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#a5db9f"},"mode":"lines","name":"Workday 12","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,50.0,148.0,183.0,169.0,257.0,122.0,120.0,132.0,92.0,155.0,285.0,234.0,186.0,32.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#98d594"},"mode":"lines","name":"Workday 13","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,37.0,143.0,203.0,231.0,281.0,228.0,121.0,129.0,207.0,282.0,370.0,354.0,280.0,75.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#8ace88"},"mode":"lines","name":"Workday 14","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,75.0,268.0,294.0,326.0,349.0,243.0,184.0,188.0,190.0,238.0,373.0,364.0,308.0,28.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#7cc87c"},"mode":"lines","name":"Workday 16","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,84.0,274.0,272.0,268.0,313.0,206.0,137.0,193.0,168.0,264.0,394.0,417.0,283.0,42.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#6bc072"},"mode":"lines","name":"Workday 17","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,92.0,252.0,260.0,295.0,310.0,253.0,139.0,150.0,180.0,226.0,374.0,333.0,238.0,75.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#5bb86a"},"mode":"lines","name":"Workday 18","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,69.0,231.0,297.0,315.0,273.0,173.0,122.0,190.0,186.0,271.0,361.0,336.0,224.0,30.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#4bb062"},"mode":"lines","name":"Workday 19","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,95.0,231.0,275.0,260.0,243.0,210.0,174.0,134.0,205.0,239.0,296.0,299.0,183.0,62.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#3ea75a"},"mode":"lines","name":"Workday 20","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,6.0,14.0,43.0,44.0,121.0,265.0,267.0,235.0,204.0,197.0,177.0,155.0,167.0,263.0,343.0,272.0,252.0,56.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#339c52"},"mode":"lines","name":"Workday 21","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,47.0,58.0,46.0,99.0,236.0,243.0,255.0,325.0,292.0,187.0,227.0,262.0,313.0,390.0,364.0,167.0,34.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#2a924a"},"mode":"lines","name":"Workday 23","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,13.0,36.0,46.0,93.0,261.0,255.0,230.0,269.0,268.0,229.0,228.0,251.0,304.0,360.0,336.0,251.0,49.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#208843"},"mode":"lines","name":"Workday 24","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,14.0,41.0,43.0,157.0,248.0,243.0,202.0,207.0,208.0,146.0,169.0,170.0,317.0,341.0,314.0,217.0,95.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#157f3b"},"mode":"lines","name":"Workday 25","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,57.0,175.0,224.0,261.0,212.0,226.0,212.0,217.0,232.0,288.0,397.0,322.0,215.0,54.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#097532"},"mode":"lines","name":"Workday 27","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,25.0,0.0,8.0,57.0,230.0,333.0,324.0,363.0,270.0,165.0,230.0,198.0,361.0,352.0,356.0,290.0,61.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#006b2b"},"mode":"lines","name":"Workday 28","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,9.0,4.0,7.0,39.0,204.0,291.0,329.0,298.0,282.0,245.0,238.0,267.0,293.0,335.0,346.0,231.0,69.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#005e26"},"mode":"lines","name":"Workday 30","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,154.0,356.0,369.0,355.0,360.0,305.0,296.0,246.0,343.0,399.0,570.0,475.0,344.0,95.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#005120"},"mode":"lines","name":"Workday 31","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,77.0,249.0,286.0,327.0,263.0,196.0,157.0,184.0,213.0,311.0,332.0,324.0,272.0,44.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#fff5f0"},"mode":"lines","name":"Holiday 1","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,17.0,209.0,215.0,284.0,264.0,219.0,99.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#fdd4c2"},"mode":"lines","name":"Holiday 8","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,10.0,52.0,6.0,0.0,49.0,190.0,301.0,298.0,311.0,265.0,44.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#fca082"},"mode":"lines","name":"Holiday 15","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,0.0,0.0,5.0,71.0,203.0,291.0,252.0,254.0,202.0,24.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#fb694a"},"mode":"lines","name":"Holiday 22","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,0.0,58.0,47.0,94.0,197.0,273.0,256.0,262.0,186.0,48.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#e32f27"},"mode":"lines","name":"Holiday 26","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,0.0,0.0,34.0,65.0,105.0,226.0,248.0,253.0,316.0,278.0,52.0,12.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"#b11218"},"mode":"lines","name":"Holiday 29","showlegend":false,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.0,0.0,0.0,7.0,27.0,71.0,45.0,113.0,221.0,209.0,255.0,257.0,151.0,18.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0],"type":"scatter"},{"line":{"color":"darkgreen","width":4},"mode":"lines","name":"Average Hour Workdays","showlegend":true,"x":[13.573292433537832,13.573292433537832],"y":[0,570.0],"type":"scatter"},{"line":{"color":"darkred","width":4},"mode":"lines","name":"Average Hour Holidays","showlegend":true,"x":[9.730836952693979,9.730836952693979],"y":[0,570.0],"type":"scatter"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"xaxis":{"title":{"text":"Hour of the Day"},"tickmode":"linear","tick0":0,"dtick":1},"title":{"text":"Hourly Transactions with Average Hours for Workdays and Holidays"},"yaxis":{"title":{"text":"Number of Transactions"}},"hovermode":"x unified"},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('fd8435ed-ad94-4d42-b1fc-9d762dc31e41');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>



</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
<p><a href="https://linktr.ee/rafaeldcsantos">Rafael Santos</a></p>
</div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>